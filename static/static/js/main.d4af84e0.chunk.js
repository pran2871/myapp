(this.webpackJsonpmyapp=this.webpackJsonpmyapp||[]).push([[0],{193:function(e,t,a){},229:function(e,t,a){},267:function(e,t,a){},269:function(e,t,a){},337:function(e,t,a){},338:function(e,t,a){},339:function(e,t,a){},340:function(e,t,a){},505:function(e,t,a){},506:function(e,t,a){},507:function(e,t,a){},508:function(e,t,a){"use strict";a.r(t);var n=a(2),s=a(0),o=a.n(s),r=a(6),i=a.n(r),l=(a(267),a(268),a(269),a(18)),c=a(5),u=a(36),d=a(8),g=a.n(d),h=(a(193),"login_access_token"),m=a(34),p=a(535),j=a(9),b=a(10);function f(){var e=Object(j.a)(["\n    color: white;\n    font-size: 32px;\n    font-weight: bold;\n"]);return f=function(){return e},e}var S=b.a.div(f()),O=p.a.Header;var x=Object(m.g)((function(e){var t,a="string"!==typeof(t=e.location.pathname.substring(1,e.location.pathname.length))?"":t.charAt(0).toUpperCase()+t.slice(1);return["/login","/forgot","/contact","/table","/addorg","/about","/landing","/account","/verify","/reset","/templates"].indexOf(e.location.pathname)>=0&&(a="Independence Skills Assessment"),Object(n.jsx)(O,{style:{padding:"0"},children:Object(n.jsx)(S,{children:e.title||a})})})),v=a(554),D=a(553),I=a(52),k=a(555),w=a(556);function y(){var e=Object(j.a)(["\n    margin: 35px 0;\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n"]);return y=function(){return e},e}function C(){var e=Object(j.a)(["\n    margin: 15px 0;\n"]);return C=function(){return e},e}function A(){var e=Object(j.a)(["\n    width: 350px;\n    border: 1px solid lightgray;\n    padding: 20px;\n    transform: translate(0, -50%);\n"]);return A=function(){return e},e}function N(){var e=Object(j.a)(["\n    height: calc(100vh - 64px);\n    width: 100vw;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n"]);return N=function(){return e},e}var E=b.a.div(N()),q=b.a.div(A()),L=b.a.div(C()),z=b.a.div(y());var M=Object(m.g)((function(e){var t=Object(s.useState)({email:"",password:"",successMessage:null}),a=Object(u.a)(t,2),o=a[0],r=a[1],i=function(e,t){r((function(a){return Object(c.a)(Object(c.a)({},a),{},Object(l.a)({},t,e))}))},d=function(){e.history.push("/dashboard")};return Object(n.jsxs)("div",{children:[Object(n.jsx)(x,{}),Object(n.jsx)(E,{children:Object(n.jsxs)(q,{children:[Object(n.jsx)(L,{children:Object(n.jsx)(D.a,{prefix:Object(n.jsx)(k.a,{}),placeholder:"Email ID",type:"email",id:"email",value:o.email,onChange:function(e){return i(e.target.value,"email")}})}),Object(n.jsx)(L,{children:Object(n.jsx)(D.a,{prefix:Object(n.jsx)(w.a,{}),type:"password",id:"password",placeholder:"Password",value:o.password,onChange:function(e){return i(e.target.value,"password")}})}),Object(n.jsxs)(z,{children:[Object(n.jsx)(I.a,{type:"primary",onClick:function(e){e.preventDefault();var t={emailID:o.email,password:o.password};g.a.post("/login/",t).then((function(e){200===e.status?"error"===e.data.status?v.a.error(e.data.message):(localStorage.setItem("orgID",e.data.data.organization.orgID),localStorage.setItem("orgName",e.data.data.organization.orgName),localStorage.setItem("roleName",e.data.data.role.roleName),localStorage.setItem("emailID",e.data.data.user.emailID),localStorage.setItem("userContactNo",e.data.data.user.userContactNo),localStorage.setItem("userID",e.data.data.user.userID),localStorage.setItem("userName",e.data.data.user.userName),localStorage.setItem(h,e.data.debugMessage),d()):(e.code,v.a.error(e.data.message))})).catch((function(e){console.log(e)}))},children:"Log In"}),Object(n.jsx)(I.a,{type:"link",onClick:function(){e.history.push("/forgot")},children:"Forgot Password?"})]})]})})]})}));var T=Object(m.g)((function(e){var t=Object(s.useState)({email:"",password:"",code:"",successMessage:null}),a=Object(u.a)(t,2),o=a[0],r=a[1],i=function(){e.history.push("/reset")};return Object(n.jsxs)("div",{children:[Object(n.jsx)(x,{}),Object(n.jsx)(E,{children:Object(n.jsxs)(q,{children:[Object(n.jsx)(L,{children:Object(n.jsx)(D.a,{id:"code",placeholder:"Enter Verification code",value:o.code,onChange:function(e){var t=e.target,a=t.id,n=t.value;r((function(e){return Object(c.a)(Object(c.a)({},e),{},Object(l.a)({},a,n))}))}})}),Object(n.jsx)(z,{children:Object(n.jsx)(I.a,{type:"primary",onClick:function(t){t.preventDefault();var a={email:localStorage.getItem("email"),password:o.password,code:o.code};g.a.get("/login/verify?email_id="+a.email+"&verification_code="+a.code,a).then((function(t){console.log(t),console.log(t.data),console.log(t.data.status),200===t.status?"Fail"===t.data.status?(console.log("qqqqqqqqqqqqq"),e.showError("Wronng Verification code")):(console.log("hiiiiiiiiiiii"),localStorage.setItem(h,t.data.token),localStorage.setItem("name",t.data.data.name),localStorage.setItem("role",t.data.data.roleName),console.log(t.data.data.status),i(),e.showError(null)):204===t.code?e.showError("Email and password do not match"):e.showError("User does not exists")})).catch((function(e){console.log(e)}))},children:"Submit"})})]})})]})}));a(337);var F=Object(m.g)((function(e){var t=Object(s.useState)({email:"",password:"",confirmPassword:"",successMessage:null}),a=Object(u.a)(t,2),o=a[0],r=a[1],i=function(){e.history.push("/verify")};return Object(n.jsxs)("div",{children:[Object(n.jsx)(x,{}),Object(n.jsx)(E,{children:Object(n.jsxs)(q,{children:[Object(n.jsx)(L,{children:Object(n.jsx)(D.a,{type:"email",id:"email",placeholder:"Enter email",value:o.email,onChange:function(e){var t=e.target,a=t.id,n=t.value;r((function(e){return Object(c.a)(Object(c.a)({},e),{},Object(l.a)({},a,n))}))}})}),Object(n.jsx)(z,{children:Object(n.jsx)(I.a,{type:"primary",onClick:function(e){e.preventDefault(),function(){var e={email:o.email,password:o.password};localStorage.setItem("email",e.email),g.a.put("/login/sendMail?email_id="+e.email,e).then((function(e){console.log(e),200===e.status?(r((function(e){return Object(c.a)(Object(c.a)({},e),{},{successMessage:"Registration successful. Redirecting to home page.."})})),localStorage.setItem(h,e.data.token),i()):v.a.error(e.data.message)})).catch((function(e){console.log(e)}))}()},children:"Send Verification Code"})})]})})]})}));a(338);var U=Object(m.g)((function(e){var t=Object(s.useState)({email:"",password:"",confirmpassword:"",successMessage:null}),a=Object(u.a)(t,2),o=a[0],r=a[1],i=function(e,t){r((function(a){return Object(c.a)(Object(c.a)({},a),{},Object(l.a)({},t,e))}))},d=function(){e.history.push("/landing")};return Object(n.jsxs)("div",{children:[Object(n.jsx)(x,{}),Object(n.jsx)(E,{children:Object(n.jsxs)(q,{children:[Object(n.jsx)(L,{children:Object(n.jsx)(D.a,{type:"password",id:"password",placeholder:"Enter New Password",value:o.password,onChange:function(e){return i(e.target.value,"password")}})}),Object(n.jsx)(L,{children:Object(n.jsx)(D.a,{type:"password",id:"confirmpassword",placeholder:"Enter New Password",value:o.confirmpassword,onChange:function(e){return i(e.target.value,"confirmpassword")}})}),Object(n.jsx)(z,{children:Object(n.jsx)(I.a,{type:"primary",onClick:function(e){e.preventDefault();var t={email:localStorage.getItem("email"),password:o.password,confirmpassword:o.confirmpassword};o.password===o.confirmpassword?g.a.put("/login/changePassword?email_id="+t.email+"&password="+t.password,t).then((function(e){console.log(e),console.log(e.data),console.log(e.data.status),200===e.status?(r((function(e){return Object(c.a)(Object(c.a)({},e),{},{successMessage:"PassWord has been changed"})})),v.a.success("Password successfully changed"),"error"===e.data.status?(console.log("qqqqqqqqqqqqq"),v.a.error(e.data.message)):console.log("hello")):(e.code,v.a.error(e.data.message))})).then((function(e){d()})):v.a.error("error...try again")},children:"Submit"})})]})})]})})),Q=a(536),V=a(144),B=a(11),R=a(12),P=a(20),Y=a(19),H=function(e){Object(P.a)(a,e);var t=Object(Y.a)(a);function a(){return Object(B.a)(this,a),t.apply(this,arguments)}return Object(R.a)(a,[{key:"render",value:function(){var e=this.props,t=e.component,a=Object(V.a)(e,["component"]),s=localStorage.getItem(h);return s&&s.length?Object(n.jsx)(m.b,Object(c.a)({component:t},a)):Object(n.jsx)(m.a,{to:{pathname:"/login"}})}}]),a}(o.a.PureComponent),_=a(49),G=a(181),W=a(17);function $(){var e=Object(j.a)(["\n    padding: 15px;\n    box-shadow: 10px 5px 10px #d8d8d8;\n    border-radius: 3px;\n    background: white;\n"]);return $=function(){return e},e}function K(){var e=Object(j.a)(["\n    height: 100%;\n"]);return K=function(){return e},e}function J(){var e=Object(j.a)(["\n    height: 100vh;\n    width: 100vw;\n    overflow: auto;\n"]);return J=function(){return e},e}var Z=p.a.Sider,X=Object(b.a)(p.a)(J()),ee=Object(b.a)(Z)(K()),te=b.a.div($()),ae=(a(339),a(340),a(548)),ne=a(539),se=a(566),oe=a(540),re=a(567),ie=Object(Q.a)({drawer:{width:"190px"}});Object(m.g)((function(e){var t=e.history,a=ie(),s=[{text:"Home",onClick:function(){return t.push("/landing")}},{text:"Manage Organisation",onClick:function(){return t.push("/table")}},{text:"Manage User",onClick:function(){return t.push("/manageUser")}},{text:"Manage Templates",onClick:function(){return t.push("/templates")}},{text:"Manage Questions",onClick:function(){return t.push("/about")}},{text:"Manage Template",onClick:function(){return t.push("/about")}},{text:"Manage Student",onClick:function(){return t.push("/about")}},{text:"View Report",onClick:function(){return t.push("/contact")}},{text:"Account",onClick:function(){return t.push("/account")}}];return Object(n.jsx)(ae.a,{variant:"permanent",className:a.drawer,children:Object(n.jsx)(ne.a,{children:s.map((function(e,t){var a=e.text,s=e.icon,o=e.onClick;return Object(n.jsxs)(se.a,{button:!0,onClick:o,children:[s&&Object(n.jsx)(oe.a,{children:s}),Object(n.jsx)(re.a,{primary:a})]},a)}))})})})),Object(Q.a)({container:{display:"flex"}});var le=Object(Q.a)({container:{display:"flex"}});var ce=Object(m.g)((function(e){le();var t=Object(s.useState)({email:"",password:"",confirmPassword:"",successMessage:null}),a=Object(u.a)(t,2);return a[0],a[1],Object(n.jsx)("div",{})})),ue=a(551),de=a(558),ge=a(559),he=a(560),me=a(561),pe=a(562),je=a(563);function be(){var e=Object(j.a)(["\n    margin: 15px 0;\n"]);return be=function(){return e},e}function fe(){var e=Object(j.a)(["\n    max-width: 350px;\n"]);return fe=function(){return e},e}function Se(){var e=Object(j.a)(["\n    display: flex;\n    align-items: center;\n    justify-content: center;\n"]);return Se=function(){return e},e}b.a.div(Se()),b.a.div(fe()),b.a.div(be());var Oe=ue.a.create()((function(e){var t=e.form.getFieldDecorator;return Object(n.jsxs)(ue.a,Object(c.a)(Object(c.a)({},{labelCol:{xs:{span:8},sm:{span:8}},wrapperCol:{xs:{span:8},sm:{span:8}}}),{},{onSubmit:function(t){t.preventDefault(),e.form.validateFields((function(t,a){if(!t){console.log("Received values of form: ",a);var n={userName:a.name,emailID:a.email,userContactNo:a.userContactNo,password:a.password,userID:localStorage.getItem("userID")};g.a.patch("/manageUser/profile?user_id="+localStorage.getItem("userID"),n,{headers:{Authorization:"Bearer "+localStorage.getItem(h)}}).then((function(e){200===e.status?"error"===e.data.status?v.a.error(e.data.message):""!==e.data.message&&v.a.success(e.data.message):v.a.error("Something went wrong")})).catch((function(t){console.log(t.response),401===t.response.status||403===t.response.status?(localStorage.clear(),v.a.error("You were logged out!"),e.history.push("/login")):v.a.error("Unable to contact server")}))}}))},children:[Object(n.jsx)(ue.a.Item,{label:"Name",hasFeedback:!0,children:t("name",{rules:[{required:!0,message:"Name is required"}],initialValue:localStorage.getItem("userName")||""})(Object(n.jsx)(D.a,{allowClear:!0,prefix:Object(n.jsx)(de.a,{}),placeholder:"Enter Name"}))}),Object(n.jsx)(ue.a.Item,{label:"Email ID",hasFeedback:!0,children:t("email",{rules:[{required:!0,message:"Email ID is required"},{pattern:/^[^\s@]+@[^\s@]+\.([^\s@1-9]){2,}$/,message:"Invalid Email ID"}],initialValue:localStorage.getItem("emailID")||""})(Object(n.jsx)(D.a,{allowClear:!0,prefix:Object(n.jsx)(k.a,{}),placeholder:"Enter Email ID"}))}),Object(n.jsx)(ue.a.Item,{label:"Password",hasFeedback:!0,children:t("password",{rules:[{required:!1,message:"Password is required"},{min:8,message:"Password must be between 8 and 12 characters"},{max:12,message:"Password must be between 8 and 12 characters"}]})(Object(n.jsx)(D.a.Password,{allowClear:!0,prefix:Object(n.jsx)(w.a,{}),placeholder:"Enter Password",iconRender:function(e){return e?Object(n.jsx)(ge.a,{}):Object(n.jsx)(he.a,{})}}))}),Object(n.jsx)(ue.a.Item,{label:"Contact Number",hasFeedback:!0,children:t("userContactNo",{rules:[{pattern:/^[0-9]{8,10}$/,message:"Invalid Contact Number"}],initialValue:localStorage.getItem("userContactNo")||""})(Object(n.jsx)(D.a,{allowClear:!0,prefix:Object(n.jsx)(me.a,{}),placeholder:"Enter Contact Number"}))}),Object(n.jsx)(ue.a.Item,{label:"Role",children:Object(n.jsx)(D.a,{disabled:!0,prefix:Object(n.jsx)(pe.a,{}),value:localStorage.getItem("roleName")})}),Object(n.jsx)(ue.a.Item,{label:"Organization",children:Object(n.jsx)(D.a,{disabled:!0,prefix:Object(n.jsx)(je.a,{}),value:"null"!==localStorage.getItem("orgName")?localStorage.getItem("orgName"):""})}),Object(n.jsx)(ue.a.Item,Object(c.a)(Object(c.a)({},{wrapperCol:{xs:{span:8,offset:0},sm:{span:8,offset:8}}}),{},{children:Object(n.jsx)(I.a,{type:"primary",htmlType:"submit",children:"Save"})}))]}))})),xe=a(541),ve=a(547),De=a(243),Ie=a.n(De),ke=a(244),we=function(e,t,a){var n={includeScore:!0,minMatchCharLength:1,threshold:.5};return"string"!==typeof e[0]&&a&&(n=Object(c.a)(Object(c.a)({},n),{},{keys:a})),new ke.a(e,n).search(t).map((function(e){return e.item}))};function ye(){var e=Object(j.a)(["\n    display: flex;\n"]);return ye=function(){return e},e}function Ce(){var e=Object(j.a)(["\n    padding: 5px 10px;\n"]);return Ce=function(){return e},e}function Ae(){var e=Object(j.a)(["\n    margin: 15px 0;\n"]);return Ae=function(){return e},e}function Ne(){var e=Object(j.a)(["\n    max-width: 350px;\n"]);return Ne=function(){return e},e}function Ee(){var e=Object(j.a)(["\n    margin-bottom: 15px;\n    display: flex;\n    justify-content: space-between;\n"]);return Ee=function(){return e},e}var qe=b.a.div(Ee()),Le=Object(b.a)(D.a)(Ne()),ze=b.a.div(Ae()),Me=b.a.div(Ce()),Te=b.a.div(ye()),Fe=a(549),Ue=a(121),Qe=function(e){Object(P.a)(a,e);var t=Object(Y.a)(a);function a(e){var n;return Object(B.a)(this,a),(n=t.call(this,e)).onChangeHandler=function(e){n.props.onChangeHandler&&n.props.onChangeHandler(e)},n.filterOption=function(e,t){return!!we([t.props.children],e).length},n.state={},n}return Object(R.a)(a,[{key:"render",value:function(){var e=this.props,t=e.value,a=void 0===t?"":t,s=e.options,o=void 0===s?[]:s,r=Object(V.a)(e,["value","options"]);return a=a.toString(),Object(n.jsx)(Ue.a,Object(c.a)(Object(c.a)({},r),{},{value:a||void 0,mode:"default",style:{width:"100%"},onChange:this.onChangeHandler,filterOption:this.filterOption,children:o.map((function(e){return Object(n.jsx)(Ue.a.Option,{value:e.id&&e.id.toString()||e.key&&e.key.toString(),children:e.label||e.name},"dropdown-options-".concat(e.id||e.key))}))}))}}]),a}(o.a.PureComponent),Ve=function(e){Object(P.a)(a,e);var t=Object(Y.a)(a);function a(e){var n;return Object(B.a)(this,a),(n=t.call(this,e)).changeFilter=function(e,t){"orgName"===t?g.a.get("manageStudents/getCoaches?orgID=".concat(n.state.addEditingStudentData.orgName),{headers:{Authorization:"Bearer "+localStorage.getItem(h)}}).then((function(e){if(console.log(e),console.log(e.data.data),console.log("akash"),200===e.status)return e.data.data;console.log("error")})).catch((function(e){console.log(e)})).then((function(a){var s;console.log("response.data. : ",a),n.setState({addEditingStudentData:Object(c.a)(Object(c.a)({},n.state.addEditingStudentData),{},(s={},Object(l.a)(s,t,e),Object(l.a)(s,"coach",""),s)),coachList:a})})):n.setState({addEditingStudentData:Object(c.a)(Object(c.a)({},n.state.addEditingStudentData),{},Object(l.a)({},t,e))})},n.cancelAddEdit=function(){n.setState({addEditModalStatus:"",addEditingStudentData:null})},n.onFileChangeHandler=function(e){e.preventDefault(),n.setState({selectedFile:e.target.files[0]});var t=new FormData;console.log(e.target.files[0]),console.log(n.state.selectedFile),t.append("file",n.state.selectedFile),console.log(t),g.a.post("/manageOrganization/upload",t,{headers:{Authorization:"Bearer "+localStorage.getItem(h)}}).then((function(e){console.log(e.data),alert("File uploaded successfully.")}))},n.submit=function(){console.log("addEditingStudentData : ",n.state.addEditingStudentData),console.log("addEditModalStatus : ",n.props.addEditModalStatus),console.log("student details"),console.log(n.state.addEditingStudentData);var e={orgID:n.state.addEditingStudentData.orgID,orgName:n.state.addEditingStudentData.orgName};(console.log(e),"add"===n.props.addEditModalStatus)?(console.log("inside add the student"),console.log(e),g.a.post("/manageOrganization/",e,{headers:{Authorization:"Bearer "+localStorage.getItem(h)}}).then((function(e){console.log(e),console.log("updating Lists1")})).then((function(e){v.a.success("Organisation successfully added"),n.props.updateListingData()}))):(console.log("inside update the student"),console.log(e),g.a.patch("/manageOrganization/",e,{headers:{Authorization:"Bearer "+localStorage.getItem(h)}}).then((function(e){console.log(e),console.log("updating Lists1")})).then((function(e){v.a.success("Organisation successfully updated"),n.props.updateListingData()})))},n.state={addEditingStudentData:{name:"",referenceNumber:"",contactNumber:"",orgName:"",coach:""},organizationList:[],coachList:[]},n}return Object(R.a)(a,[{key:"componentDidMount",value:function(){var e=this;g.a.get("/manageOrganization/getAll/",{headers:{Authorization:"Bearer "+localStorage.getItem(h)}}).then((function(e){if(console.log(e),console.log(e.data.data),console.log("akash"),200===e.status)return e.data.data;console.log("error")})).catch((function(e){console.log(e)})).then((function(t){console.log("response.data.data : ",t);var a=t.map((function(e){return Object.values(e).map((function(e){return"".concat(e)}))}));console.log("setting data : ",a),e.setState({organizationList:t})}));var t=this.props.addEditingStudentData;t&&this.setState({addEditingStudentData:Object(c.a)(Object(c.a)({},t),{},{name:t.studentName,referenceNumber:t.studentReferenceNumber,contactNumber:t.studentContactNo,orgName:t.orgName,coach:t.userID})})}},{key:"render",value:function(){var e=this,t=this.state,a=t.addEditingStudentData,s=(t.organizationList,t.coachList,this.props),o=s.cancelAddEdit,r=s.addEditModalStatus;return Object(n.jsx)(Fe.a,{title:"edit"===r?"Edit Organization Name":"Add Organization Student",visible:r.length,onOk:"edit"===r?this.editStudentData:this.createNewStudent,onCancel:o,footer:[Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(I.a,{onClick:o,children:"Cancel"},"back"),",",Object(n.jsx)(I.a,{type:"primary",onClick:this.submit,children:"edit"===r?"Update":"Create"},"submit"),","]})],children:Object(n.jsxs)(ze,{children:[Object(n.jsx)(D.a,{onChange:function(t){return e.changeFilter(t.target.value,"orgName")},value:a.orgName,placeholder:"Enter Name"}),Object(n.jsx)(ze,{children:Object(n.jsx)("input",{type:"file",onChange:this.upload,placeholder:"Upload Logo"})})]})})}}]),a}(o.a.PureComponent),Be={bucketName:"ubbuffalo",region:"us-west-1",accessKeyId:"AKIAJ5566JC3RJTRX4IQ",secretAccessKey:"Ek4p3mEAL7Czd/CYynK2AmdAqZqWGfKkZNCF4Ipm"},Re=function(e){Object(P.a)(a,e);var t=Object(Y.a)(a);function a(e){var n;return Object(B.a)(this,a),(n=t.call(this,e)).getStudentListApiCAllFunction=function(){console.log("inside getStudentApi Call function 2"),g.a.get("/manageOrganization/getAll",{headers:{Authorization:"Bearer "+localStorage.getItem(h)}}).then((function(e){if(console.log(e),console.log(e.status),console.log(e.data.data),console.log("akash"),200===e.status)return e.data.data;console.log("error")})).catch((function(e){console.log(e)})).then((function(e){console.log("response.data.data : ",e),n.setState({dataSource:e})}))},n.changeFilter=function(e){n.setState({filterValue:e.target.value})},n.editStudentData=function(e){n.setState({addEditModalStatus:"edit",addEditingStudentData:e})},n.createNewStudent=function(){n.setState({addEditModalStatus:"add"})},n.cancelAddEdit=function(){n.setState({addEditModalStatus:"",addEditingStudentData:null})},n.deleteStudent=function(e){console.log("delete"+e),n.setState({addEditModalStatus:"",deleteData:e}),console.log(n.state.deleteData),console.log(e),g.a.delete("manageOrganization/delete?orgID="+e,{headers:{Authorization:"Bearer "+localStorage.getItem(h)}}).then((function(e){if(console.log("inside delete function"),console.log(e),console.log("akash"),200===e.status)return e.data.data;console.log("error")})).catch((function(e){console.log(e)})).then((function(e){v.a.success("Organisation successfully deleted"),n.getStudentListApiCAllFunction()}))},n.updateListingData=function(){console.log("inside the index page"),n.getStudentListApiCAllFunction(),n.cancelAddEdit()},n.state={filterValue:"",dataSource:[],addEditModalStatus:"",addEditingStudentData:null,deleteData:null},n}return Object(R.a)(a,[{key:"componentDidMount",value:function(){this.getStudentListApiCAllFunction()}},{key:"upload",value:function(e){console.log(e.target.files[0]);var t=e.target.files[0];console.log(t),Ie.a.uploadFile(e.target.files[0],Be).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this,t=[{title:"Organization Name",dataIndex:"orgName",key:"orgName"},{title:"Actions",dataIndex:"orgID",key:"orgID",render:function(t,a){return Object(n.jsxs)(Te,{children:[Object(n.jsx)(Me,{children:Object(n.jsx)(xe.a,{title:"Are you sure ?",onConfirm:function(){return e.deleteStudent(t)},okText:"Yes",cancelText:"No",children:Object(n.jsx)(W.a,{type:"delete"})})}),Object(n.jsx)(Me,{children:Object(n.jsx)(W.a,{type:"edit",onClick:function(){return e.editStudentData(a)}})})]})}}],a=this.state,s=a.filterValue,o=a.dataSource,r=a.addEditModalStatus,i=void 0===r?"":r,l=a.addEditingStudentData,c=o;return s&&s.length&&(c=we(o,s,["studentName","studentReferenceNumber","studentContactNo","organization.orgName","userID"])),Object(n.jsxs)("div",{children:[Object(n.jsxs)(qe,{children:[Object(n.jsx)(Le,{onChange:this.changeFilter,value:s,placeholder:"Enter Filter"}),Object(n.jsx)(I.a,{type:"primary",onClick:this.createNewStudent,children:"Add New Organization"})]}),Object(n.jsx)(ve.a,{dataSource:c,columns:t}),i&&i.length?Object(n.jsx)(Ve,{addEditModalStatus:i,addEditingStudentData:l,cancelAddEdit:this.cancelAddEdit,updateListingData:this.updateListingData}):null]})}}]),a}(o.a.PureComponent),Pe=a(29),Ye=(a(505),a(506),Ue.a.Option),He=function(e){Object(P.a)(a,e);var t=Object(Y.a)(a);function a(e){var n;return Object(B.a)(this,a),(n=t.call(this,e)).handleSignoutClick=function(){localStorage.clear(),v.a.error("You were logged out!"),n.props.history.push("/login")},n.changeFilter=function(e,t){"roleName"===t&&("superadmin"===e.toLowerCase()?(n.props.form.resetFields(["orgID"]),n.setState({orgRequired:!1}),n.setState({disableOrg:!0})):(n.setState({orgRequired:!0}),n.setState({disableOrg:!1})))},n.cancelAddEdit=function(){n.setState({addEditModalStatus:"",addEditUserData:null})},n.validateData=function(){return null===n.state.addEditUserData.userName||""===n.state.addEditUserData.userName?(v.a.error("Name can not be empty"),!1):null===n.state.addEditUserData.emailID||""===n.state.addEditUserData.emailID?(v.a.error("Email ID can not be empty"),!1):!1===/^[^\s@]+@[^\s@]+\.([^\s@1-9]){2,}$/.test(n.state.addEditUserData.emailID)?(v.a.error("Invalid Email ID"),!1):null!==n.state.addEditUserData.password&&""!==n.state.addEditUserData.password&&(n.state.addEditUserData.password.length<8||n.state.addEditUserData.password.length>12)?(v.a.error("Password must be 8 to 12 characters long"),!1):null!==n.state.addEditUserData.userContactNo&&""!==n.state.addEditUserData.userContactNo&&!1===/^[0-9]{8,10}$/.test(n.state.addEditUserData.userContactNo)?(v.a.error("Invalid Contact Number"),!1):null===n.state.addEditUserData.roleName||""===n.state.addEditUserData.roleName?(v.a.error("Please select a Role"),!1):"coach"!==n.state.addEditUserData.roleName.toLowerCase()&&"admin"!==n.state.addEditUserData.roleName.toLowerCase()||null!==n.state.addEditUserData.orgID&&""!==n.state.addEditUserData.orgID||(v.a.error("Please select an Organization"),!1)},n.submit=function(e){if("add"===n.props.addEditModalStatus){if(null===e.password||""===e.password)return void v.a.error("Password can not be empty");var t={user:{emailID:e.emailID,userName:e.name,password:e.password,userContactNo:e.contactNo},role:{roleName:e.roleName},organization:{orgID:e.orgID}};g.a.post("/manageUser/?user_id="+localStorage.getItem("userID"),t,{headers:{Authorization:"Bearer "+localStorage.getItem(h)}}).then((function(e){return e})).then((function(e){200===e.status?"error"===e.data.status?v.a.error(e.data.message):"success"===e.data.status&&(n.props.refreshListingData(),""!==e.data.message&&v.a.success(e.data.message)):v.a.error("Something went wrong")})).catch((function(e){console.log(e.response),401===e.response.status||403===e.response.status?n.handleSignoutClick():v.a.error("Unable to contact server")}))}else{var a={userRoleOrgID:n.state.addEditUserData.userRoleOrgID,user:{userID:n.state.addEditUserData.userID,emailID:e.emailID,userName:e.name,password:e.password,userContactNo:e.contactNo},role:{roleName:e.roleName},organization:{orgID:e.orgID}};g.a.patch("/manageUser/?user_id="+localStorage.getItem("userID"),a,{headers:{Authorization:"Bearer "+localStorage.getItem(h)}}).then((function(e){return e})).then((function(e){200===e.status?"error"===e.data.status?v.a.error(e.data.message):"success"===e.data.status&&(n.props.refreshListingData(),""!==e.data.message&&v.a.success(e.data.message)):v.a.error("Something went wrong")})).catch((function(e){console.log(e.response),401===e.response.status||403===e.response.status?n.handleSignoutClick():v.a.error("Unable to contact server")}))}},n.state={addEditUserData:{userRoleOrgID:"",userID:"",emailID:"",userName:"",password:"",userContactNo:"",roleName:"",orgID:""},organizationList:[],roleList:[],orgRequired:!0,disableOrg:!1},n}return Object(R.a)(a,[{key:"componentDidMount",value:function(){if("ceo"===localStorage.getItem("roleName").toLowerCase()||"superadmin"===localStorage.getItem("roleName").toLowerCase()?this.setState({roleList:["Coach","Admin","Superadmin"]}):"admin"===localStorage.getItem("roleName").toLowerCase()&&this.setState({roleList:["Coach","Admin"]}),"ceo"===localStorage.getItem("roleName").toLowerCase()||"superadmin"===localStorage.getItem("roleName").toLowerCase()){var e=this.props.organizationList;this.setState({organizationList:e})}else this.setState({organizationList:[{orgID:localStorage.getItem("orgID"),orgName:localStorage.getItem("orgName")}]});var t=this.props.addEditUserData;t&&(this.setState({addEditUserData:Object(c.a)(Object(c.a)({},t),{},{userID:t.userID,userName:t.userName,emailID:t.emailID,password:t.password,userContactNo:t.userContactNo,roleName:t.roleName,orgID:t.orgID})}),"superadmin"!==t.roleName.toLowerCase()&&"ceo"!==t.roleName.toLowerCase()||(this.props.form.resetFields(["orgID"]),this.setState({orgRequired:!1}),this.setState({disableOrg:!0})))}},{key:"render",value:function(){var e=this,t=this.state,a=t.addEditUserData,s=t.organizationList,r=void 0===s?[]:s,i=t.roleList,l=void 0===i?[]:i,u=this.props,d=u.cancelAddEdit,g=u.addEditModalStatus,h=this.props.form.getFieldDecorator;return Object(n.jsx)(Fe.a,{title:"edit"===g?Object(n.jsx)("b",{children:"Update User"}):Object(n.jsx)("b",{children:"Add New User"}),visible:g.length>0,okText:"edit"===g?"Update":"Create",onOk:function(){e.props.form.validateFields().then((function(t){e.submit(t)})).catch((function(e){console.log("Validation Failed:",e)}))},cancelText:"Cancel",onCancel:d,children:Object(n.jsxs)(ue.a,Object(c.a)(Object(c.a)({},{labelCol:{xs:{span:8},sm:{span:8}},wrapperCol:{xs:{span:8},sm:{span:8}}}),{},{children:[Object(n.jsx)(ue.a.Item,{label:"Name",hasFeedback:!0,children:"add"===g?h("name",{rules:[{required:!0,message:"Name is required"}]})(Object(n.jsx)(D.a,{allowClear:!0,prefix:Object(n.jsx)(de.a,{}),placeholder:"Enter Name",onChange:function(t){return e.changeFilter(t.target.value,"userName")}})):h("name",{rules:[{required:!0,message:"Name is required"}],initialValue:a.userName})(Object(n.jsx)(D.a,{allowClear:!0,prefix:Object(n.jsx)(de.a,{}),placeholder:"Enter Name",onChange:function(t){return e.changeFilter(t.target.value,"userName")}}))}),Object(n.jsx)(ue.a.Item,{label:"Email ID",hasFeedback:!0,children:"add"===g?h("emailID",{rules:[{required:!0,message:"Email ID is required"},{pattern:/^[^\s@]+@[^\s@]+\.([^\s@1-9]){2,}$/,message:"Invalid Email ID"}]})(Object(n.jsx)(D.a,{allowClear:!0,prefix:Object(n.jsx)(k.a,{}),placeholder:"Enter Email ID",onChange:function(t){return e.changeFilter(t.target.value,"emailID")}})):h("emailID",{rules:[{required:!0,message:"Email ID is required"},{pattern:/^[^\s@]+@[^\s@]+\.([^\s@1-9]){2,}$/,message:"Invalid Email ID"}],initialValue:a.emailID})(Object(n.jsx)(D.a,{allowClear:!0,prefix:Object(n.jsx)(k.a,{}),placeholder:"Enter Email ID",onChange:function(t){return e.changeFilter(t.target.value,"emailID")}}))}),Object(n.jsx)(ue.a.Item,{label:"Password",hasFeedback:!0,children:"add"===g?h("password",{rules:[{required:!0,message:"Password is required"},{min:8,message:"Password must be between 8 and 12 characters"},{max:12,message:"Password must be between 8 and 12 characters"}]})(Object(n.jsx)(D.a.Password,{allowClear:!0,prefix:Object(n.jsx)(w.a,{}),placeholder:"Enter Password",onChange:function(t){return e.changeFilter(t.target.value,"password")},iconRender:function(e){return e?Object(n.jsx)(ge.a,{}):Object(n.jsx)(he.a,{})}})):h("password",{rules:[{required:!1,message:"Password is required"},{min:8,message:"Password must be between 8 and 12 characters"},{max:12,message:"Password must be between 8 and 12 characters"}],initialValue:a.password})(Object(n.jsx)(D.a.Password,{allowClear:!0,prefix:Object(n.jsx)(w.a,{}),placeholder:"Enter Password",onChange:function(t){return e.changeFilter(t.target.value,"password")},iconRender:function(e){return e?Object(n.jsx)(ge.a,{}):Object(n.jsx)(he.a,{})}}))}),Object(n.jsx)(ue.a.Item,{label:"Contact Number",hasFeedback:!0,children:"add"===g?h("contactNo",{rules:[{pattern:/^[0-9]{8,10}$/,message:"Invalid Contact Number"}]})(Object(n.jsx)(D.a,{allowClear:!0,prefix:Object(n.jsx)(me.a,{}),placeholder:"Enter Contact Number",onChange:function(t){return e.changeFilter(t.target.value,"userContactNo")}})):h("contactNo",{rules:[{pattern:/^[0-9]{8,10}$/,message:"Invalid Contact Number"}],initialValue:a.userContactNo})(Object(n.jsx)(D.a,{allowClear:!0,prefix:Object(n.jsx)(me.a,{}),placeholder:"Enter Contact Number",onChange:function(t){return e.changeFilter(t.target.value,"userContactNo")}}))}),Object(n.jsx)(ue.a.Item,{label:"Role",hasFeedback:!0,children:"add"===g?h("roleName",{rules:[{required:!0,message:"Please select a Role"}]})(Object(n.jsx)(Ue.a,{showArrow:!0,placeholder:Object(n.jsxs)(o.a.Fragment,{children:[Object(n.jsx)(pe.a,{}),"\xa0 Select Role"]}),onChange:function(t){return e.changeFilter(t,"roleName")},children:l.map((function(e){return Object(n.jsx)(Ye,{value:e.toLowerCase(),children:e})}))})):h("roleName",{rules:[{required:!0,message:"Please select a Role"}],initialValue:a.roleName})(Object(n.jsx)(Ue.a,{showArrow:!0,placeholder:Object(n.jsxs)(o.a.Fragment,{children:[Object(n.jsx)(pe.a,{}),"\xa0 Select Role"]}),onChange:function(t){return e.changeFilter(t,"roleName")},disabled:"ceo"===a.roleName.toLowerCase(),children:l.map((function(e){return Object(n.jsx)(Ye,{value:e.toLowerCase(),children:e})}))}))}),Object(n.jsx)(ue.a.Item,{label:"Organization",hasFeedback:!0,children:"add"===g?h("orgID",{rules:[{required:this.state.orgRequired,message:"Please select an Organization"}]})(Object(n.jsx)(Ue.a,{showSearch:!0,allowClear:!0,showArrow:!0,placeholder:Object(n.jsxs)(o.a.Fragment,{children:[Object(n.jsx)(je.a,{}),"\xa0 Select Organization"]}),onChange:function(t){return e.changeFilter(t,"orgID")},disabled:this.state.disableOrg,children:r.map((function(e){return Object(n.jsx)(Ye,{value:e.orgID,children:e.orgName})}))})):h("orgID",{rules:[{required:this.state.orgRequired,message:"Please select an Organization"}],initialValue:"superadmin"!==a.roleName.toLowerCase()&&"ceo"!==a.roleName.toLowerCase()?a.orgID:""})(Object(n.jsx)(Ue.a,{showSearch:!0,allowClear:!0,showArrow:!0,placeholder:Object(n.jsxs)(o.a.Fragment,{children:[Object(n.jsx)(je.a,{}),"\xa0 Select Organization"]}),onChange:function(t){return e.changeFilter(t,"orgID")},disabled:this.state.disableOrg,children:r.map((function(e){return Object(n.jsx)(Ye,{value:e.orgID,children:e.orgName})}))}))})]}))})}}]),a}(o.a.PureComponent),_e=Object(m.g)(ue.a.create()(He)),Ge=a(564),We=a(142);function $e(){var e=Object(j.a)(["\n    display: flex;\n"]);return $e=function(){return e},e}function Ke(){var e=Object(j.a)(["\n    padding: 5px 10px;\n"]);return Ke=function(){return e},e}function Je(){var e=Object(j.a)(["\n    margin: 15px 0;\n"]);return Je=function(){return e},e}function Ze(){var e=Object(j.a)(["\n    max-width: 350px;\n"]);return Ze=function(){return e},e}function Xe(){var e=Object(j.a)(["\n    margin-bottom: 15px;\n    display: flex;\n    justify-content: space-between;\n"]);return Xe=function(){return e},e}var et=b.a.div(Xe()),tt=Object(b.a)(D.a)(Ze()),at=(b.a.div(Je()),b.a.div(Ke())),nt=b.a.div($e()),st=function(e){Object(P.a)(a,e);var t=Object(Y.a)(a);function a(e){var n;return Object(B.a)(this,a),(n=t.call(this,e)).handleSignoutClick=function(){localStorage.clear(),v.a.error("You were logged out!"),n.props.history.push("/login")},n.fetchUsersList=function(){g.a.get("/manageUser/getAll/?user_id="+localStorage.getItem("userID"),{headers:{Authorization:"Bearer "+localStorage.getItem(h)}}).then((function(e){200===e.status?"error"===e.data.status?v.a.error(e.data.message):(""!==e.data.message&&v.a.success(e.data.message),n.setState({dataSource:e.data.data})):v.a.error("Something went wrong")})).catch((function(e){console.log(e.response),401===e.response.status||403===e.response.status?n.handleSignoutClick():v.a.error("Unable to contact server")}))},n.deleteUser=function(e,t){n.setState({addEditModalStatus:"",deleteData:t});var a={userRoleOrgID:t.userRoleOrgID,user:t.user,role:t.role,organization:t.organization};g.a.delete("/manageUser/?user_id="+localStorage.getItem("userID"),{data:a,headers:{Authorization:"Bearer "+localStorage.getItem(h)}}).then((function(e){if(200===e.status){if("error"===e.data.status)v.a.error(e.data.message);else if("success"===e.data.status){""!==e.data.message&&v.a.success(e.data.message);var a=Object(Pe.a)(n.state.dataSource);a[a.indexOf(t)].deleted=!0,n.setState({dataSource:a})}}else v.a.error("Something went wrong")})).catch((function(e){console.log(e.response),401===e.response.status||403===e.response.status?n.handleSignoutClick():v.a.error("Unable to contact server")}))},n.reviveUser=function(e,t){n.setState({addEditModalStatus:"",deleteData:t});var a={userRoleOrgID:t.userRoleOrgID,deleted:t.deleted,user:t.user,role:t.role,organization:t.organization};g.a.post("/manageUser/revive?user_id="+localStorage.getItem("userID"),a,{headers:{Authorization:"Bearer "+localStorage.getItem(h)}}).then((function(e){if(200===e.status){if("error"===e.data.status)v.a.error(e.data.message);else if("success"===e.data.status){""!==e.data.message&&v.a.success(e.data.message);var a=Object(Pe.a)(n.state.dataSource);a[a.indexOf(t)].deleted=!1,n.setState({dataSource:a})}}else v.a.error("Something went wrong")})).catch((function(e){console.log(e.response),401===e.response.status||403===e.response.status?n.handleSignoutClick():v.a.error("Unable to contact server")}))},n.createNewUser=function(){n.setState({addEditModalStatus:"add"})},n.editUserData=function(e,t){var a=t.organization.orgID;"superadmin"!==t.role.roleName.toLowerCase()&&"ceo"!==t.role.roleName.toLowerCase()||(a=""),n.setState({addEditModalStatus:"edit",addEditUserData:{userRoleOrgID:t.userRoleOrgID,userID:t.user.userID,emailID:t.user.emailID,userName:t.user.userName,password:"",userContactNo:t.user.userContactNo,roleName:t.role.roleName,orgID:a}})},n.cancelAddEdit=function(){n.setState({addEditModalStatus:"",addEditUserData:null})},n.changeFilter=function(e){n.setState({filterValue:e.target.value})},n.refreshListingData=function(){n.fetchUsersList(),n.cancelAddEdit()},n.state={filterValue:"",dataSource:[],addEditModalStatus:"",addEditUserData:null,deleteData:null,organizationList:[]},n}return Object(R.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.fetchUsersList(),"ceo"!==localStorage.getItem("roleName").toLowerCase()&&"superadmin"!==localStorage.getItem("roleName").toLowerCase()||g.a.get("/manageOrganization/getAll/",{headers:{Authorization:"Bearer "+localStorage.getItem(h)}}).then((function(t){200===t.status?e.setState({organizationList:t.data.data}):console.log("error fetching orgList")})).catch((function(e){return console.log(e.response),401===e.response.status||403===e.response.status||v.a.error("Unable to contact server"),!1}))}},{key:"render",value:function(){var e=this,t=[{title:"S. No.",dataIndex:"",key:"S. No.",render:function(e,t,a){return a+1}},{title:"Name",dataIndex:"user.userName",key:"userName",sorter:function(e,t){return e=e.user.userName||"",t=t.user.userName||"",e.localeCompare(t)}},{title:"Email ID",dataIndex:"user.emailID",key:"emailID",sorter:function(e,t){return e=e.user.emailID||"",t=t.user.emailID||"",e.localeCompare(t)}},{title:"Role",dataIndex:"role.roleName",key:"roleName",sorter:function(e,t){return e=e.role.roleName||"",t=t.role.roleName||"",e.localeCompare(t)}},{title:"Organization Name",dataIndex:"organization.orgName",key:"orgName",sorter:function(e,t){return e=e.organization.orgName||"",t=t.organization.orgName||"",e.localeCompare(t)}},{title:"Status",dataIndex:"deleted",key:"deleted",render:function(e){return e?"Inactive":"Active"},sorter:function(e,t){return e=e.deleted.toString(),t=t.deleted.toString(),e.localeCompare(t)}},{title:"Actions",dataIndex:"userRoleOrgID",key:"userRoleOrgID",render:function(t,a){return Object(n.jsxs)(nt,{children:[Object(n.jsx)(at,{children:Object(n.jsx)(We.a,{title:"Edit User",children:Object(n.jsx)(W.a,{type:"edit",onClick:function(){return e.editUserData(t,a)}})})}),a.deleted?Object(n.jsx)(at,{children:Object(n.jsx)(We.a,{title:"Revive User",children:Object(n.jsx)(xe.a,{title:"Are you sure to revive?",onConfirm:function(){return e.reviveUser(t,a)},okText:"Yes",cancelText:"No",children:Object(n.jsx)(W.a,{type:"sync"})})})}):Object(n.jsx)(at,{children:Object(n.jsx)(We.a,{title:"Delete User",children:Object(n.jsx)(xe.a,{title:"Are you sure to delete?",onConfirm:function(){return e.deleteUser(t,a)},okText:"Yes",cancelText:"No",children:Object(n.jsx)(W.a,{type:"delete"})})})})]})}}],a=this.state,s=a.filterValue,o=a.dataSource,r=a.addEditModalStatus,i=void 0===r?"":r,l=a.addEditUserData,c=a.organizationList,u=o;return s&&s.length>0&&(u=we(o,s,["user.userName","user.emailID","role.roleName","organization.orgName","deleted"])),Object(n.jsxs)("div",{children:[Object(n.jsxs)(et,{children:[Object(n.jsx)(tt,{prefix:Object(n.jsx)(Ge.a,{}),onChange:this.changeFilter,value:s,allowClear:!0,placeholder:"Search User"}),Object(n.jsx)(I.a,{type:"primary",onClick:this.createNewUser,children:"Add User"})]}),Object(n.jsx)(ve.a,{rowClassName:function(e,t){return t%2===0?"table-row-light":"table-row-dark"},dataSource:u,columns:t}),i&&i.length>0?Object(n.jsx)(_e,{addEditModalStatus:i,addEditUserData:l,cancelAddEdit:this.cancelAddEdit,refreshListingData:this.refreshListingData,organizationList:c}):null]})}}]),a}(o.a.PureComponent);function ot(){var e=Object(j.a)(["\n    display: flex;\n"]);return ot=function(){return e},e}function rt(){var e=Object(j.a)(["\n    padding: 5px 10px;\n"]);return rt=function(){return e},e}function it(){var e=Object(j.a)(["\n    margin: 15px 0;\n"]);return it=function(){return e},e}function lt(){var e=Object(j.a)(["\n    max-width: 350px;\n"]);return lt=function(){return e},e}function ct(){var e=Object(j.a)(["\n    margin-bottom: 15px;\n    display: flex;\n    justify-content: space-between;\n"]);return ct=function(){return e},e}var ut=b.a.div(ct()),dt=Object(b.a)(D.a)(lt()),gt=b.a.div(it()),ht=b.a.div(rt()),mt=b.a.div(ot()),pt=function(e){Object(P.a)(a,e);var t=Object(Y.a)(a);function a(e){var n;return Object(B.a)(this,a),(n=t.call(this,e)).changeFilter=function(e,t){"organization"===t?g.a.get("manageStudents/getCoaches?orgID=".concat(e),{headers:{Authorization:"Bearer "+localStorage.getItem(h)}}).then((function(e){if(console.log(e),console.log(e.data.data),console.log("akash"),200===e.status)return e.data.data;console.log("error")})).catch((function(e){console.log(e)})).then((function(a){var s;console.log("response.data. : ",a),n.setState({addEditingStudentData:Object(c.a)(Object(c.a)({},n.state.addEditingStudentData),{},(s={},Object(l.a)(s,t,e),Object(l.a)(s,"coach",""),s)),coachList:a})})):n.setState({addEditingStudentData:Object(c.a)(Object(c.a)({},n.state.addEditingStudentData),{},Object(l.a)({},t,e))})},n.updateListingData=function(){console.log("updateListingData 2"),n.getStudentListApiCAllFunction(),n.cancelAddEdit()},n.cancelAddEdit=function(){n.setState({addEditModalStatus:"",addEditingStudentData:null})},n.getStudentListApiCAllFunction=function(){console.log("refreshed 3"),g.a.get("/manageStudents/getAll",{headers:{Authorization:"Bearer "+localStorage.getItem(h)}}).then((function(e){if(console.log(e),console.log(e.status),console.log(e.data.data),console.log("akash"),200===e.status)return e.data.data;console.log("error")})).catch((function(e){console.log(e)})).then((function(e){console.log("response.data.data : ",e);var t=e.map((function(e){return Object.values(e).map((function(e){return"".concat(e)}))}));console.log("setting data : ",t),n.setState({dataSource:e})}))},n.submit=function(){console.log("addEditingStudentData : ",n.state.addEditingStudentData),console.log("addEditModalStatus : ",n.props.addEditModalStatus),console.log("student details"),console.log(n.state.addEditingStudentData);var e={studentReferenceNumber:n.state.addEditingStudentData.referenceNumber,studentName:n.state.addEditingStudentData.name,studentContactNo:n.state.addEditingStudentData.contactNumber,userID:n.state.addEditingStudentData.coach,orgID:n.state.addEditingStudentData.organization};(console.log(e),"add"===n.props.addEditModalStatus)?(console.log("inside add the student"),console.log(e),g.a.post("/manageStudents/add",e,{headers:{Authorization:"Bearer "+localStorage.getItem(h)}}).then((function(e){console.log(e),console.log("updating Lists1")})).then((function(e){v.a.success("Student successfully added"),n.props.updateListingData()}))):(console.log("inside update the student"),console.log(e),g.a.patch("/manageStudents/update",e,{headers:{Authorization:"Bearer "+localStorage.getItem(h)}}).then((function(e){console.log(e),console.log("updating Lists1")})).then((function(e){v.a.success("Student successfully updated"),n.props.updateListingData()})))},n.state={addEditingStudentData:{name:"",referenceNumber:"",contactNumber:"",organization:"",coach:""},organizationList:[],coachList:[]},n}return Object(R.a)(a,[{key:"componentDidMount",value:function(){var e=this;g.a.get("/manageOrganization/getAll/",{headers:{Authorization:"Bearer "+localStorage.getItem(h)}}).then((function(e){if(console.log(e),console.log(e.data.data),console.log("akash"),200===e.status)return e.data.data;console.log("error")})).catch((function(e){console.log(e)})).then((function(t){console.log("response.data.data : ",t),e.setState({organizationList:t})}));var t=this.props.addEditingStudentData;t&&this.setState({addEditingStudentData:Object(c.a)(Object(c.a)({},t),{},{name:t.studentName,referenceNumber:t.studentReferenceNumber,contactNumber:t.studentContactNo,organization:t.orgID,coach:t.userID})})}},{key:"render",value:function(){var e=this,t=this.state,a=t.addEditingStudentData,s=t.organizationList,o=void 0===s?[]:s,r=t.coachList,i=void 0===r?[]:r,l=this.props,c=l.cancelAddEdit,u=l.addEditModalStatus;return Object(n.jsxs)(Fe.a,{title:"edit"===u?"Edit Student Data":"Add New Student",visible:u.length,onOk:"edit"===u?this.editStudentData:this.createNewStudent,onCancel:c,footer:[Object(n.jsx)(I.a,{onClick:c,children:"Cancel"},"back"),Object(n.jsx)(I.a,{type:"primary",onClick:this.submit,children:"edit"===u?"Update":"Create"},"submit")],children:[Object(n.jsxs)(gt,{children:[Object(n.jsx)("p",{children:"add"===u?"":"Enter Name"}),Object(n.jsx)(D.a,{onChange:function(t){return e.changeFilter(t.target.value,"name")},value:a.name,placeholder:"Enter Name"})]}),Object(n.jsxs)(gt,{children:[Object(n.jsx)("p",{children:"add"===u?"":"Enter Reference Number"}),Object(n.jsx)(D.a,{disabled:"edit"===u,onChange:function(t){return e.changeFilter(t.target.value,"referenceNumber")},value:a.referenceNumber,placeholder:"Enter Reference Number"})]}),Object(n.jsxs)(gt,{children:[Object(n.jsx)("p",{children:"add"===u?"":"Enter Contact Number"}),Object(n.jsx)(D.a,{onChange:function(t){return e.changeFilter(t.target.value,"contactNumber")},value:a.contactNumber,placeholder:"Enter Contact Number"})]}),Object(n.jsxs)(gt,{children:[Object(n.jsx)("p",{children:"add"===u?"":"Select Organisation"}),Object(n.jsx)(Qe,{showSearch:!0,allowClear:!0,showArrow:!0,onChangeHandler:function(t){return e.changeFilter(t,"organization")},value:a.organization,placeholder:"Select Organization",options:o.map((function(e){return{id:e.orgID,label:e.orgName}}))})]}),Object(n.jsxs)(gt,{children:[Object(n.jsx)("p",{children:"add"===u?"":"Select Coach"}),Object(n.jsx)(Qe,{showSearch:!0,allowClear:!0,showArrow:!0,onChangeHandler:function(t){return e.changeFilter(t,"coach")},value:a.coach,placeholder:"Select Coach",options:i.map((function(e){return{id:e.userID,label:e.userName}}))})]})]})}}]),a}(o.a.PureComponent),jt=function(e){Object(P.a)(a,e);var t=Object(Y.a)(a);function a(e){var n;return Object(B.a)(this,a),(n=t.call(this,e)).getStudentListApiCAllFunction=function(){console.log("inside getStudentApi Call function 2"),g.a.get("/manageStudents/getAll",{headers:{Authorization:"Bearer "+localStorage.getItem("jwtToken")}}).then((function(e){if(console.log(e),console.log(e.status),console.log(e.data.data),console.log("akash"),200===e.status){if("error"!==e.data.status)return e.data.data;console.log(e.data.message),v.a.error(e.data.message)}else console.log("error"),v.a.error(e.data.message)})).catch((function(e){console.log(e)})).then((function(e){console.log("response.data.data : ",e),n.setState({dataSource:e})}))},n.changeFilter=function(e){n.setState({filterValue:e.target.value})},n.editStudentData=function(e){n.setState({addEditModalStatus:"edit",addEditingStudentData:e})},n.createNewStudent=function(){n.setState({addEditModalStatus:"add"})},n.cancelAddEdit=function(){n.setState({addEditModalStatus:"",addEditingStudentData:null})},n.deleteStudent=function(e){console.log("delete"+e),n.setState({addEditModalStatus:"",deleteData:e}),console.log(n.state.deleteData),console.log(e),g.a.delete("manageStudents/delete?studentReferenceNumber="+e,{headers:{Authorization:"Bearer "+localStorage.getItem("jwtToken")}}).then((function(e){if(console.log("inside delete function"),console.log(e),console.log(e.status),console.log(e.data.data),console.log("akash"),200===e.status)return e.data.data;console.log("error")})).catch((function(e){console.log(e)})).then((function(e){v.a.success("Student deleted successfully"),n.updateListingData()})),n.getStudentListApiCAllFunction()},n.updateListingData=function(){console.log("inside the index page"),n.getStudentListApiCAllFunction(),n.cancelAddEdit()},n.state={filterValue:"",dataSource:[],addEditModalStatus:"",addEditingStudentData:null,deleteData:null},n}return Object(R.a)(a,[{key:"componentDidMount",value:function(){this.getStudentListApiCAllFunction()}},{key:"render",value:function(){var e=this,t=[{title:"Name",dataIndex:"studentName",key:"studentName"},{title:"Reference ID",dataIndex:"studentReferenceNumber",key:"studentReferenceNumber"},{title:"Organization Name",dataIndex:"organizationName",key:"organizationName"},{title:"Coach Name",dataIndex:"coachName",key:"coachName"},{title:"Actions",dataIndex:"studentReferenceNumber",key:"studentReferenceNumber",render:function(t,a){return Object(n.jsxs)(mt,{children:[Object(n.jsx)(ht,{children:Object(n.jsx)(xe.a,{title:"Are you sure ?",onConfirm:function(){return e.deleteStudent(t)},okText:"Yes",cancelText:"No",children:Object(n.jsx)(W.a,{type:"delete"})})}),Object(n.jsx)(ht,{children:Object(n.jsx)(W.a,{type:"edit",onClick:function(){return e.editStudentData(a)}})})]})}}],a=this.state,s=a.filterValue,o=a.dataSource,r=a.addEditModalStatus,i=void 0===r?"":r,l=a.addEditingStudentData,c=o;return s&&s.length&&(c=we(o,s,["studentName","studentReferenceNumber","studentContactNo","organization.orgName","userID"])),Object(n.jsxs)("div",{children:[Object(n.jsxs)(ut,{children:[Object(n.jsx)(dt,{onChange:this.changeFilter,value:s,placeholder:"Enter Filter"}),Object(n.jsx)(I.a,{type:"primary",onClick:this.createNewStudent,children:"Add Student"})]}),Object(n.jsx)(ve.a,{dataSource:c,columns:t}),i&&i.length?Object(n.jsx)(pt,{addEditModalStatus:i,addEditingStudentData:l,cancelAddEdit:this.cancelAddEdit,updateListingData:this.updateListingData}):null]})}}]),a}(o.a.PureComponent);function bt(){var e=Object(j.a)(["\n    display: flex;\n"]);return bt=function(){return e},e}function ft(){var e=Object(j.a)(["\n    padding: 5px 10px;\n"]);return ft=function(){return e},e}function St(){var e=Object(j.a)(["\n    margin: 15px 0;\n"]);return St=function(){return e},e}function Ot(){var e=Object(j.a)(["\n    max-width: 350px;\n"]);return Ot=function(){return e},e}function xt(){var e=Object(j.a)(["\n    margin-bottom: 15px;\n    display: flex;\n    justify-content: space-between;\n"]);return xt=function(){return e},e}var vt=b.a.div(xt()),Dt=Object(b.a)(D.a)(Ot()),It=b.a.div(St()),kt=(b.a.div(ft()),b.a.div(bt()),function(e){Object(P.a)(a,e);var t=Object(Y.a)(a);function a(e){var n;return Object(B.a)(this,a),(n=t.call(this,e)).changeFilter=function(e,t){"organization"===t?g.a.get("manageStudents/getCoaches?orgID=".concat(n.state.addEditingStudentData.organization),{headers:{Authorization:"Bearer "+localStorage.getItem(h)}}).then((function(e){if(console.log(e),console.log(e.data.data),console.log("akash"),200===e.status)return e.data.data;console.log("error")})).catch((function(e){console.log(e)})).then((function(a){var s;console.log("response.data. : ",a),n.setState({addEditingStudentData:Object(c.a)(Object(c.a)({},n.state.addEditingStudentData),{},(s={},Object(l.a)(s,t,e),Object(l.a)(s,"coach",""),s)),coachList:a})})):n.setState({addEditingStudentData:Object(c.a)(Object(c.a)({},n.state.addEditingStudentData),{},Object(l.a)({},t,e))})},n.submit=function(){console.log("addEditingStudentData : ",n.state.addEditingStudentData),console.log("addEditModalStatus : ",n.props.addEditModalStatus),g.a.post("add"===n.props.addEditModalStatus?"/manageOrganization/add/":"/manageOrganization/update/",n.state.addEditingStudentData,{headers:{Authorization:"Bearer "+localStorage.getItem(h)}}).then((function(e){console.log(e)})),n.props.updateListingData()},n.state={addEditingStudentData:{name:"",referenceNumber:"",contactNumber:"",organization:"",coach:""},organizationList:[],coachList:[]},n}return Object(R.a)(a,[{key:"componentDidMount",value:function(){var e=this;g.a.get("/manageOrganization/getAll/",{headers:{Authorization:"Bearer "+localStorage.getItem(h)}}).then((function(e){if(console.log(e),console.log(e.data.data),console.log("akash"),200===e.status)return e.data.data;console.log("error")})).catch((function(e){console.log(e)})).then((function(t){console.log("response.data.data : ",t);var a=t.map((function(e){return Object.values(e).map((function(e){return"".concat(e)}))}));console.log("setting data : ",a),e.setState({organizationList:t})}));var t=this.props.addEditingStudentData;t&&this.setState({addEditingStudentData:Object(c.a)(Object(c.a)({},t),{},{name:t.studentName,referenceNumber:t.studentReferenceNumber,contactNumber:t.studentContactNo,organization:t.organization.orgID,coach:t.userID})})}},{key:"render",value:function(){var e=this,t=this.state,a=t.addEditingStudentData,s=t.organizationList,o=void 0===s?[]:s,r=t.coachList,i=void 0===r?[]:r,l=this.props,c=l.cancelAddEdit,u=l.addEditModalStatus;return Object(n.jsxs)(Fe.a,{title:"edit"===u?"Edit Student Data":"Add New Student",visible:u.length,onOk:"edit"===u?this.editStudentData:this.createNewStudent,onCancel:c,footer:[Object(n.jsx)(I.a,{onClick:c,children:"Cancel"},"back"),Object(n.jsx)(I.a,{type:"primary",onClick:this.submit,children:"edit"===u?"Update":"Create"},"submit")],children:[Object(n.jsx)(It,{children:Object(n.jsx)(D.a,{onChange:function(t){return e.changeFilter(t.target.value,"name")},value:a.name,placeholder:"Enter Name"})}),Object(n.jsx)(It,{children:Object(n.jsx)(D.a,{onChange:function(t){return e.changeFilter(t.target.value,"referenceNumber")},value:a.referenceNumber,placeholder:"Enter Reference Number"})}),Object(n.jsx)(It,{children:Object(n.jsx)(D.a,{onChange:function(t){return e.changeFilter(t.target.value,"contactNumber")},value:a.contactNumber,placeholder:"Enter Contact Number"})}),Object(n.jsx)(It,{children:Object(n.jsx)(Qe,{elmId:"organization",disabled:"edit"===u,showSearch:!0,allowClear:!0,showArrow:!0,onChangeHandler:function(t){return e.changeFilter(t,"organization")},value:a.organization,placeholder:"Select Organization",options:o.map((function(e){return{id:e.orgID,label:e.orgName}}))})}),Object(n.jsx)(It,{children:Object(n.jsx)(Qe,{elmId:"coach",disabled:"edit"===u,showSearch:!0,allowClear:!0,showArrow:!0,onChangeHandler:function(t){return e.changeFilter(t,"coach")},value:a.coach,placeholder:"Select Coach",options:i.map((function(e){return{id:e.userID,label:e.userName}}))})})]})}}]),a}(o.a.PureComponent)),wt=function(e){Object(P.a)(a,e);var t=Object(Y.a)(a);function a(e){var n;return Object(B.a)(this,a),(n=t.call(this,e)).getStudentListApiCAllFunction=function(){g.a.get("/manageStudents/getAll",{headers:{Authorization:"Bearer "+localStorage.getItem(h)}}).then((function(e){if(console.log(e),console.log(e.status),console.log(e.data.data),console.log("akash"),200===e.status)return e.data.data;console.log("error")})).catch((function(e){console.log(e)})).then((function(e){console.log("response.data.data : ",e),n.setState({dataSource:e})}))},n.startNewAssessment=function(e,t){n.setState({addEditingStudentData:e}),localStorage.setItem("testName",e),console.log(e),console.log(t),console.log("start new assess"+e+" "+t),n.props.history.push("/assessment/"+e)},n.pastAssessment=function(e,t){console.log("past assess "+e),n.setState({addEditingStudentData:e}),localStorage.setItem("testName",e),console.log(e),console.log(t),n.props.history.push("/assessment/pastassessment/"+e)},n.changeFilter=function(e){n.setState({filterValue:e.target.value})},n.editStudentData=function(e){n.setState({addEditModalStatus:"edit",addEditingStudentData:e})},n.createNewStudent=function(){n.setState({addEditModalStatus:"add"})},n.cancelAddEdit=function(){n.setState({addEditModalStatus:"",addEditingStudentData:null})},n.deleteStudent=function(e){console.log("delete");g.a.get("manageOrganization/delete/",{headers:{Authorization:"Bearer "+localStorage.getItem(h)}}).then((function(e){if(console.log(e),console.log(e.status),console.log(e.data.data),console.log("akash"),200===e.status)return e.data.data;console.log("error")})).catch((function(e){console.log(e)}));v.a.success("Student successfully deleted"),n.getStudentListApiCAllFunction()},n.updateListingData=function(){n.getStudentListApiCAllFunction(),n.cancelAddEdit()},n.state={filterValue:"",dataSource:[],addEditModalStatus:"",addEditingStudentData:null},n}return Object(R.a)(a,[{key:"componentDidMount",value:function(){console.log("hello"),this.getStudentListApiCAllFunction()}},{key:"render",value:function(){var e,t,a=this,s=[{title:"Name",dataIndex:"studentName",key:"studentName"},{title:"Reference ID",dataIndex:"studentReferenceNumber",key:"studentReferenceNumber"},{title:"Organization Name",dataIndex:"organizationName",key:"organizationName"},{title:"Coach Name",dataIndex:"coachName",key:"coachName"},(e={title:"Actions",dataIndex:"studentID"},Object(l.a)(e,"dataIndex","studentName"),Object(l.a)(e,"key","studentID"),Object(l.a)(e,"render",(function(e,t){return Object(n.jsx)(I.a,{onClick:function(){return a.startNewAssessment(e,t)},children:"Start New Assessment"})})),e),(t={title:"",dataIndex:"studentID"},Object(l.a)(t,"dataIndex","studentName"),Object(l.a)(t,"key","studentID"),Object(l.a)(t,"render",(function(e,t){return Object(n.jsx)(I.a,{onClick:function(){return a.pastAssessment(e,t)},children:"Past Assessment"})})),t)],o=this.state,r=o.filterValue,i=o.dataSource,c=o.addEditModalStatus,u=void 0===c?"":c,d=o.addEditingStudentData,g=i;return r&&r.length&&(g=we(i,r,["studentName","studentReferenceNumber","studentContactNo","organization.orgName","userID"])),Object(n.jsxs)("div",{children:[Object(n.jsx)(vt,{children:Object(n.jsx)(Dt,{onChange:this.changeFilter,value:r,placeholder:"Enter Filter"})}),Object(n.jsx)(ve.a,{dataSource:g,columns:s}),u&&u.length?Object(n.jsx)(kt,{addEditModalStatus:u,addEditingStudentData:d,cancelAddEdit:this.cancelAddEdit,updateListingData:this.updateListingData}):null]})}}]),a}(o.a.PureComponent),yt=a(550),Ct=function(e){Object(P.a)(a,e);var t=Object(Y.a)(a);function a(e){var n;return Object(B.a)(this,a),(n=t.call(this,e)).getStudentListApiCAllFunction=function(){g.a.get("/manageTemplate",{headers:{Authorization:"Bearer "+localStorage.getItem(h)}}).then((function(e){if(console.log(e),console.log(e.status),console.log(e.data),console.log("akash"),200===e.status)return e.data;console.log("error")})).catch((function(e){console.log(e)})).then((function(e){console.log("response.data.data : ",e),n.setState({dataSource:e})}))},n.changeFilter=function(e){n.setState({filterValue:e.target.value})},n.editStudentData=function(e){n.setState({addEditModalStatus:"edit",addEditingStudentData:e})},n.createNewStudent=function(e){n.setState({addEditModalStatus:"add"})},n.selectTemplate=function(e){n.setState({addEditingStudentData:e}),console.log("studentID from ",n.state),console.log(e),console.log("history props : ",n.props),localStorage.setItem("testtemplate",e),n.props.history.push("/assessment/".concat(e,"/").concat(e))},n.cancelAddEdit=function(){n.setState({addEditModalStatus:"",addEditingStudentData:null})},n.deleteStudent=function(e){console.log("delete"+e),n.setState({addEditModalStatus:"edit",deleteData:e}),console.log(n.state.deleteData);g.a.get("manageOrganization/delete/",{headers:{Authorization:"Bearer "+localStorage.getItem(h)}}).then((function(e){if(console.log(e),console.log(e.status),console.log(e.data.data),console.log("akash"),200===e.status)return e.data.data;console.log("error")})).catch((function(e){console.log(e)}));v.a.success("Student successfully deleted"),n.getStudentListApiCAllFunction()},n.updateListingData=function(){n.getStudentListApiCAllFunction(),n.cancelAddEdit()},n.state={filterValue:"",dataSource:[],addEditModalStatus:"",addEditingStudentData:null,deleteData:null},n}return Object(R.a)(a,[{key:"componentDidMount",value:function(){console.log("pick ur template"),console.log(this.state.studentID),this.getStudentListApiCAllFunction()}},{key:"render",value:function(){var e=this,t=[{title:"Template Name",dataIndex:"templateName",key:"templateName"},{title:"Created By",dataIndex:"createdBY.userName",key:"createdBY.userName"},{title:"",dataIndex:"templateID",key:"templateID",render:function(t){return Object(n.jsx)(I.a,{onClick:function(){return e.selectTemplate(t)},children:"Start"})}}],a=this.state,s=a.filterValue,o=a.dataSource,r=a.addEditModalStatus,i=void 0===r?"":r,l=a.addEditingStudentData,c=o;return s&&s.length&&(c=we(o,s,["studentName","studentReferenceNumber","studentContactNo","organization.orgName","userID"])),Object(n.jsxs)("div",{children:[Object(n.jsx)(vt,{children:Object(n.jsx)(Dt,{onChange:this.changeFilter,value:s,placeholder:"Enter Filter"})}),Object(n.jsx)(ve.a,{dataSource:c,columns:t}),i&&i.length?Object(n.jsx)(kt,{addEditModalStatus:i,addEditingStudentData:l,cancelAddEdit:this.cancelAddEdit,updateListingData:this.updateListingData}):null]})}}]),a}(o.a.PureComponent),At=a(31),Nt=a.n(At),Et=a(48);a(507);function qt(){var e=Object(j.a)(["\n    display: flex;\n"]);return qt=function(){return e},e}function Lt(){var e=Object(j.a)(["\n    padding: 5px 10px;\n"]);return Lt=function(){return e},e}function zt(){var e=Object(j.a)(["\n    margin: 15px 0;\n"]);return zt=function(){return e},e}function Mt(){var e=Object(j.a)(["\n    max-width: 350px;\n"]);return Mt=function(){return e},e}function Tt(){var e=Object(j.a)(["\n    margin-bottom: 15px;\n    display: flex;\n    justify-content: space-between;\n"]);return Tt=function(){return e},e}b.a.div(Tt()),Object(b.a)(D.a)(Mt());var Ft=b.a.div(zt()),Ut=(b.a.div(Lt()),b.a.div(qt()),a(545)),Qt=a(542),Vt=a(552),Bt=a(543),Rt=a(544),Pt=Object(Q.a)((function(e){return{root:{margin:"auto"},cardHeader:{padding:e.spacing(1,2)},list:{width:350,height:350,backgroundColor:e.palette.background.paper,overflow:"auto"},button:{margin:e.spacing(.5,0),fontSize:14,height:32,fontWeight:400,whiteSpace:"nowrap",color:"rgba(0, 0, 0, 0.65)",textTransform:"none"},button1:{margin:e.spacing(.5,0),fontSize:14,height:32,fontWeight:400,whiteSpace:"nowrap",marginRight:20,marginLeft:90,color:"rgba(0, 0, 0, 0.65)",textTransform:"none"}}}));function Yt(e,t){return e.filter((function(e){return!t.find((function(t){return t.key===e.key}))}))}function Ht(e){var t=e.defaultList,a=e.defaultSelectedList,r=e.onSelectListChange,i=Pt(),l=o.a.useState([]),c=Object(u.a)(l,2),d=c[0],g=c[1],h=o.a.useState([]),m=Object(u.a)(h,2),p=m[0],j=m[1],b=o.a.useState(t||[]),f=Object(u.a)(b,2),S=f[0],O=f[1],x=o.a.useState(a||[]),v=Object(u.a)(x,2),D=v[0],I=v[1];Object(s.useEffect)((function(){O(t)}),[t]);var k=function(e,t){return function(){if("left"===t){var a=d.findIndex((function(t){return t.key===e.key})),n=Object(Pe.a)(d);-1===a?n.push(e):n.splice(a,1),g(n)}else{var s=p.findIndex((function(t){return t.key===e.key})),o=Object(Pe.a)(p);-1===s?o.push(e):o.splice(s,1),j(o)}}},w=function(e,t,a){return Object(n.jsxs)(Qt.a,{children:[Object(n.jsxs)(ne.a,{className:i.list,dense:!0,component:"div",role:"list",children:[t.map((function(t){var a="transfer-list-all-item-".concat(t.key,"-label");return Object(n.jsxs)(se.a,{role:"listitem",button:!0,onClick:k(t,e),children:[Object(n.jsx)(oe.a,{children:Object(n.jsx)(Vt.a,{checked:!!("left"===e?d:p).find((function(e){return e.key===t.key})),tabIndex:-1,disableRipple:!0,inputProps:{"aria-labelledby":a}})}),Object(n.jsx)(re.a,{id:a,primary:"".concat(t.title)})]},t.key)})),Object(n.jsx)(se.a,{})]}),Object(n.jsx)(Bt.a,{}),a]})};return Object(n.jsxs)(Rt.a,{container:!0,spacing:2,justify:"center",alignItems:"center",className:i.root,children:[Object(n.jsx)(Rt.a,{item:!0,children:w("left",S,Object(n.jsxs)(n.Fragment,{children:[" ",Object(n.jsx)(Ut.a,{variant:"outlined",size:"small",className:(i.button,i.button1),onClick:function(){var e=Yt(d,D);console.log("rem",e,"right",D);var t=Object(Pe.a)(new Set(D.concat(e)));I(t),O(Yt(S,[])),g([]),r&&r(t)},"aria-label":"move selected right",children:"Add"}),Object(n.jsx)(Ut.a,{variant:"outlined",size:"small",className:i.button,onClick:function(){var e=Yt(S,D),t=Object(Pe.a)(new Set(D.concat(e)));I(t),g([]),r&&r(t)},"aria-label":"move selected right",style:{marginRight:30},children:"Add all"})]}))}),Object(n.jsx)(Rt.a,{item:!0,children:w("right",D,Object(n.jsxs)(n.Fragment,{children:[" ",Object(n.jsx)(Ut.a,{variant:"outlined",size:"small",className:(i.button,i.button1),onClick:function(){O(S);var e=Yt(D,p);I(e),j([]),r&&r(e)},"aria-label":"move selected left",children:"Delete"}),Object(n.jsx)(Ut.a,{variant:"outlined",size:"small",className:i.button,onClick:function(){Object(Pe.a)(new Set(D.concat(S)));I([]),j([]),r&&r([])},"aria-label":"move selected left",children:"Delete all"})]}))})]})}function _t(){var e=Object(j.a)(["\n    display: flex;\n"]);return _t=function(){return e},e}function Gt(){var e=Object(j.a)(["\n    padding: 5px 10px;\n"]);return Gt=function(){return e},e}function Wt(){var e=Object(j.a)(["\n    margin-right: 15px;\n"]);return Wt=function(){return e},e}function $t(){var e=Object(j.a)(["\n    display: flex;\n    width: 500px;\n"]);return $t=function(){return e},e}function Kt(){var e=Object(j.a)(["\n    max-width: 350px;\n"]);return Kt=function(){return e},e}function Jt(){var e=Object(j.a)(["\n    margin-bottom: 15px;\n    display: flex;\n    justify-content: space-between;\n"]);return Jt=function(){return e},e}function Zt(){var e=Object(j.a)(["\n    margin-bottom: 35px;\n    display: flex;\n    justify-content: space-between;\n"]);return Zt=function(){return e},e}function Xt(){var e=Object(j.a)(["\n    margin-left: 10px;\n"]);return Xt=function(){return e},e}function ea(){var e=Object(j.a)(["\n    margin: 15px 0;\n    display: flex;\n    justify-content: flex-end;\n"]);return ea=function(){return e},e}function ta(){var e=Object(j.a)(["\n    margin: 15px 0;\n    max-width: 350px;\n"]);return ta=function(){return e},e}function aa(){var e=Object(j.a)(["\n    margin: 15px 0;\n"]);return aa=function(){return e},e}function na(){var e=Object(j.a)(["\n    margin: 15px 0;\n"]);return na=function(){return e},e}function sa(){var e=Object(j.a)(["\n    font-size: 24px;\n    display: flex;\n    font-weight: bold;\n"]);return sa=function(){return e},e}var oa=b.a.div(sa()),ra=b.a.div(na()),ia=(b.a.div(aa()),b.a.div(ta())),la=b.a.div(ea()),ca=Object(b.a)(I.a)(Xt()),ua=(b.a.div(Zt()),b.a.div(Jt()),Object(b.a)(D.a)(Kt()),b.a.div($t()),Object(b.a)(Qe)(Wt()),b.a.div(Gt()),b.a.div(_t()),"/manageQuestion/getMainSkills"),da="/manageQuestion/getSubSkills",ga="/manageQuestion/bySkill",ha=("/manageStudents/getCoaches/?orgID=".concat(localStorage.getItem("orgID")),"manageTemplate/"),ma="manageTemplate/",pa={getMainSkills:function(){var e=Object(Et.a)(Nt.a.mark((function e(){return Nt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get(ua,{headers:{Authorization:"Bearer "+localStorage.getItem(h)}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getSubSkills:function(){var e=Object(Et.a)(Nt.a.mark((function e(t){return Nt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get(da,{params:{mainSkillArea:t},headers:{Authorization:"Bearer "+localStorage.getItem(h)}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getQuestions:function(){var e=Object(Et.a)(Nt.a.mark((function e(t,a){return Nt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get(ga,{params:{mainSkillArea:t,subSkillArea:a},headers:{Authorization:"Bearer "+localStorage.getItem(h)}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),getAllUsers:function(){var e=Object(Et.a)(Nt.a.mark((function e(){return Nt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get("/manageStudents/getCoaches/?orgID="+localStorage.getItem("orgID"),{headers:{Authorization:"Bearer "+localStorage.getItem(h)}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),setTemplate:function(){var e=Object(Et.a)(Nt.a.mark((function e(t){return Nt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.post(ha,t,{headers:{Authorization:"Bearer "+localStorage.getItem(h)}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),updateTemplate:function(){var e=Object(Et.a)(Nt.a.mark((function e(t){return Nt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.put(ma,t,{headers:{Authorization:"Bearer "+localStorage.getItem(h)}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},ja=function(e){Object(P.a)(a,e);var t=Object(Y.a)(a);function a(e){var n;return Object(B.a)(this,a),(n=t.call(this,e)).handelMainSkillChange=function(e){console.log(e),pa.getSubSkills(e).then((function(t){if(!t.data||!t.data.data)throw new Error("data not found in response");n.setState({subSkillList:t.data.data,selectedMainSkillArea:e}),n.setState({selectedSubSkillArea:null})})).catch((function(e){alert("error  main skill handle change")}))},n.handelSubSkillChange=function(e){pa.getQuestions(n.state.selectedMainSkillArea,e).then((function(t){if(!t.data||!t.data.data)throw new Error("data not found in response");console.log(t.data.data),n.setState({questionsList:t.data.data,selectedSubSkillArea:e}),console.log(n.state.questionList)})).catch((function(e){alert("error subskill")}))},n.cancelAddEdit=function(){n.setState({addEditModalStatus:"",addEditingTemplateData:null})},n.submit=function(){console.log(n.state);var e=n.state,t=e.templateName,a=e.assignedList,s=e.selectedQuestionList,o=(n.props.onSave,n.props.templateID&&n.props.templateID,{templateName:t,createdBY:{userID:localStorage.getItem("userID")},assignedTo:a.map((function(e){return{userID:e}})),questionsList:s.map((function(e){return{questionID:e.key,questionLevel:e.level,questionText:e.title,skill:{mainSkillArea:e.mainskill,subSkillArea:e.subskill}}}))});n.setState({payload:o}),console.log(o),console.log(n.state.payload),localStorage.setItem("payload123",o),console.log(localStorage.getItem("payload123")),n.props.history.push({pathname:"/assessment/create",data:o})},n.state={templateName:e.templateName||"",selectedMainSkillArea:"",mainSkillList:[],selectedSubSkillArea:"",subSkillList:[],selectedQuestionList:(e.questionsList||[]).map((function(e){return{key:e.questionID,title:e.questionText}})),questionsList:[],assignedList:(e.assignedTo||[]).map((function(e){return e.userID})),masterUserList:[]},n}return Object(R.a)(a,[{key:"componentDidMount",value:function(){var e=this;pa.getMainSkills().then((function(t){if(!t.data||!t.data.data)throw new Error("data not found in response");e.setState({mainSkillList:t.data.data})})).catch((function(e){alert("error did mount")})),pa.getAllUsers().then((function(t){if(!t.data||!t.data.data)throw new Error("data not found in response");e.setState({masterUserList:t.data.data})})).catch((function(e){alert("error all select")}));var t=this.props.addEditingTemplateData;t&&this.setState(Object(c.a)(Object(c.a)({},t),{},{templateName:t.templateName,selectedQuestionList:(t.questionsList||[]).map((function(e){return{key:e.questionID,title:e.questionText,level:e.questionLevel,mainskill:e.skill.mainSkillArea,subskill:e.skill.subSkillArea}})),assignedList:(t.assignedTo||[]).map((function(e){return e.userID})),questionsList:[]})),console.log(t)}},{key:"render",value:function(){var e=this,t=(this.state.studentId,this.state),a=t.questionsList,s=t.mainSkillList,o=(t.assignedList,t.masterUserList,t.selectedMainSkillArea),r=t.selectedSubSkillArea,i=t.selectedQuestionList,l=t.subSkillList,c=t.templateName,u=this.props;u.cancelAddEdit,u.addEditModalStatus;return Object(n.jsxs)("div",{children:[Object(n.jsx)(Ft,{children:Object(n.jsx)(D.a,{value:c,placeholder:"Enter Template Name",style:{width:400},onChange:function(t){e.setState({templateName:t.target.value})}})}),Object(n.jsxs)(Ft,{children:[Object(n.jsxs)(Ue.a,{defaultValue:"",value:o,style:{width:400},onChange:this.handelMainSkillChange,children:[Object(n.jsx)("option",{value:"",hidden:!0,children:"Select main-skill area"}),s.map((function(e,t){return Object(n.jsx)(Ue.a.Option,{value:e,children:e},t)}))]}),Object(n.jsxs)(Ue.a,{defaultValue:"",value:r,style:{width:400},onChange:this.handelSubSkillChange,children:[Object(n.jsx)("option",{value:"",hidden:!0,children:"Select sub-skill area"}),l.map((function(e,t){return Object(n.jsx)(Ue.a.Option,{value:e,children:e},t)}))]})]}),Object(n.jsx)("h4",{style:{color:"rgba(0, 0, 0, 0.65)"},children:"\xa0\xa0\xa0\xa0Select Questions\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0Selected Questions"}),Object(n.jsx)(Ht,{this:!0,gets:!0,updated:!0,everytime:!0,it:!0,changes:!0,defaultList:a.map((function(e){return{key:e.questionID,title:e.questionText,level:e.questionLevel,mainskill:e.skill.mainSkillArea,subskill:e.skill.subSkillArea}})),defaultSelectedList:i,onSelectListChange:function(t){return e.setState({selectedQuestionList:t})}}),Object(n.jsx)(la,{children:Object(n.jsx)(I.a,{type:"primary",onClick:this.submit,children:"Start Assessment"},"submit")})]})}}]),a}(o.a.PureComponent),ba=function(e){Object(P.a)(a,e);var t=Object(Y.a)(a);function a(e){var n;return Object(B.a)(this,a),(n=t.call(this,e)).state={studentId:e.match.params.studentId},n}return Object(R.a)(a,[{key:"render",value:function(){console.log("history : ",this.props.history),console.log("studentId : ",this.state.studentId);var e=this.state.studentId.studentId;return Object(n.jsx)("div",{children:Object(n.jsxs)(yt.a,{defaultActiveKey:"1",children:[Object(n.jsx)(yt.a.TabPane,{tab:"Pick you template",children:Object(n.jsx)(Ct,Object(c.a)(Object(c.a)({},this.props),{},{studentId:e}))},"1"),Object(n.jsx)(yt.a.TabPane,{tab:"Create you own question list",children:Object(n.jsx)(ja,Object(c.a)(Object(c.a)({},this.props),{},{studentId:e}))},"2")]})})}}]),a}(o.a.PureComponent),fa=a(143),Sa={status:200,data:{templateId:1,studentDetails:{studentID:1,studentReferenceNumber:123,studentName:"akash",studentContactNo:"7865435689",organization:{orgID:1,orgName:"Accessible academics",orgContactNo:"5678998765",orgAddress:"122 Merrimac",createdAt:"2020-10-23T03:22:29.159+00:00",updatedAt:null},userID:1,createdAt:"2020-10-23T03:22:29.159+00:00",updatedAt:"2020-10-23T03:22:29.159+00:00"},assessmentDetails:{comment:"sample comment",questions:[{questionId:1,questionLabel:"Question - 1",questionAnswer:1},{questionId:2,questionLabel:"Question - 2",questionAnswer:2},{questionId:3,questionLabel:"Question - 3",questionAnswer:3},{questionId:4,questionLabel:"Question - 4",questionAnswer:2}]}}},Oa=function(e){Object(P.a)(a,e);var t=Object(Y.a)(a);function a(e){var n;return Object(B.a)(this,a),(n=t.call(this,e)).changeAnswer=function(e,t){var a;console.log("changeAns"),n.state.ans.push({question:t.questionID,answer:e.target.value,questionText:t.questionText}),n.setState({answersData:Object(c.a)(Object(c.a)({},n.state.answersData),{},(a={},Object(l.a)(a,t.questionID,e.target.value),Object(l.a)(a,"question",t.questionID),Object(l.a)(a,"answer",e.target.value),a))})},n.commentChange=function(e){n.setState({comment:e.target.value})},n.submitForm=function(e){console.log("mode : ",e),console.log("state : ",n.state.answersData),console.log("state : ",n.state);var t=n.state.ans;console.log(t),console.log(t.length);var a=n.state.allquestions;console.log("save as a draft"),console.log(a);var s=[],o={};t.forEach((function(e){return o[e.question]=e.answer})),console.log(o);for(var r=0;r<a.length;r++){console.log(a[r]),console.log(a[r].ansText);var i=a[r];console.log(o[i.questionID]),s.push({userID:Number(n.state.userId),answerText:o[i.questionID]||i.ansText||"",questionID:i.questionID,questionText:i.questionText,mainSkillArea:i.mainSkillArea,subSkillArea:i.subSkillArea,questionLevel:i.questionLevel,studentReferenceNumber:n.state.templateData.studentDetails.studentReferenceNumber,comment:n.state.comment})}(console.log(s),"submit"===e)&&(g.a.post("/assessment/submit",s,{headers:{Authorization:"Bearer "+localStorage.getItem(h)}}).then((function(e){console.log(e),console.log("updating Lists1")})).then((function(e){v.a.success("Submitted successfully"),console.log("response="+e),n.props.history.push("/assessment")})),v.a.success("Submitted successfully"),n.props.history.push("/assessment"));"saveDraft"===e&&(g.a.post("/assessment/draft",s,{headers:{Authorization:"Bearer "+localStorage.getItem(h)}}).then((function(e){console.log(e),console.log("updating Lists1")})).then((function(e){v.a.success("Draft Saved successfully"),console.log("response="+e),n.props.history.push("/assessment")})),v.a.success("Submitted successfully"),n.props.history.push("/assessment"))},n.state={templateData:null,answersData:{},questionData:{},comment:"",ans:[],userId:localStorage.getItem("userID"),allquestions:[]},n}return Object(R.a)(a,[{key:"componentDidMount",value:function(){var e=this;g.a.get("/manageTemplate/?templateID="+localStorage.getItem("testtemplate"),{headers:{Authorization:"Bearer "+localStorage.getItem(h)}}).then((function(e){if(console.log(e),console.log(e.status),200===e.status)return e.data.questionsList;console.log("error")})).catch((function(e){console.log(e)})).then((function(t){console.log("response.data.data : ",t),e.setState({dataSource:t}),Sa.data.assessmentDetails.questions=t,console.log(e.state.dataSource),console.log(Sa.data.assessmentDetails.questions);var a=[];Sa.data.assessmentDetails.questions.forEach((function(e){a.push({questionID:e.questionID,questionText:e.questionText,ansText:"",mainSkillArea:e.skill.mainSkillArea,subSkillArea:e.skill.subSkillArea,questionLevel:e.questionLevel})})),console.log(a),e.setState({allquestions:a}),console.log(e.state.allquestions)}));var t=this.state.allquestions;Sa.data.assessmentDetails.questions.forEach((function(e){t.push({questionID:e.questionID,questionText:e.questionText,ansText:""})}));var a={};Sa.data.assessmentDetails.questions.forEach((function(e){e.questionAnswer&&(a[e.questionID]=e.questionText)})),this.setState({templateData:Sa.data,answersData:"",comment:""}),this.setState({questionData:a})}},{key:"render",value:function(){var e=this,t=this.state,a=t.templateData,s=t.comment;if(!a)return null;var o=[{title:"Main Skill",dataIndex:"skill.mainSkillArea",key:"skill.mainSkillArea"},{title:"Sub Skill",dataIndex:"skill.subSkillArea",key:"skill.subSkillArea"},{title:"Question Level",dataIndex:"questionLevel",key:"questionLevel"},{title:"Question",dataIndex:"questionText",key:"questionText"},{title:"Answer",dataIndex:"questionID",key:"questionID",render:function(t,a){var s=e.state.answersData;return Object(n.jsxs)(fa.a.Group,{name:"radiogroup",value:s&&s[t]||"",onChange:function(t){return e.changeAnswer(t,a)},style:{display:"flex",flexDirection:"row"},children:[Object(n.jsx)(We.a,{title:"Not Independent",children:Object(n.jsx)(fa.a,{value:1,children:"1"})}),Object(n.jsx)(We.a,{title:"Independent with Guidance",children:Object(n.jsx)(fa.a,{value:2,children:"2"})}),Object(n.jsx)(We.a,{title:"Independent",children:Object(n.jsx)(fa.a,{value:3,children:"3"})})]})}}];return Object(n.jsxs)("div",{children:[Object(n.jsx)(oa,{children:localStorage.getItem("testName")}),Object(n.jsx)(ra,{children:Object(n.jsx)(ve.a,{dataSource:this.state.dataSource,columns:o,pagination:!1})}),Object(n.jsx)(ia,{children:Object(n.jsx)(D.a.TextArea,{rows:4,value:s,placeholder:"Enter your comment",onChange:this.commentChange})}),Object(n.jsxs)(la,{children:[Object(n.jsx)(ca,{type:"default",onClick:function(){return e.submitForm("saveDraft")},children:"Save Draft"}),Object(n.jsx)(ca,{type:"primary",onClick:function(){return e.submitForm("submit")},children:"Submit"})]})]})}}]),a}(o.a.PureComponent),xa=function(e){Object(P.a)(a,e);var t=Object(Y.a)(a);function a(e){var n;return Object(B.a)(this,a),(n=t.call(this,e)).changeAnswer=function(e,t){var a;console.log("changeAns"),n.state.ans.push({question:t.questionID,answer:e.target.value,questionText:t.questionText}),n.setState({answersData:Object(c.a)(Object(c.a)({},n.state.answersData),{},(a={},Object(l.a)(a,t.questionID,e.target.value),Object(l.a)(a,"question",t.questionID),Object(l.a)(a,"answer",e.target.value),a))})},n.commentChange=function(e){n.setState({comment:e.target.value})},n.submitForm=function(e){console.log("mode : ",e),console.log("state : ",n.state.answersData),console.log("state : ",n.state);var t=n.state.ans;console.log(t),console.log(t.length);var a=n.state.allquestions;console.log("save as a draft"),console.log(a);var s=[],o={};t.forEach((function(e){return o[e.question]=e.answer})),console.log(o);for(var r=0;r<a.length;r++){console.log(a[r]),console.log(a[r].ansText);var i=a[r];console.log(o[i.questionID]),s.push({userID:Number(n.state.userId),answerText:o[i.questionID]||i.ansText||"",questionID:i.questionID,questionText:i.questionText,mainSkillArea:i.mainSkillArea,subSkillArea:i.subSkillArea,questionLevel:i.questionLevel,studentReferenceNumber:n.state.templateData.studentDetails.studentReferenceNumber,comment:n.state.comment})}(console.log(s),"submit"===e)&&(g.a.post("/assessment/submit",s,{headers:{Authorization:"Bearer "+localStorage.getItem(h)}}).then((function(e){console.log(e),console.log("updating Lists1")})).then((function(e){v.a.success("Submitted successfully"),console.log("response="+e),n.props.history.push("/assessment")})),v.a.success("Submitted successfully"),n.props.history.push("/assessment"));"saveDraft"===e&&(g.a.post("/assessment/draft",s,{headers:{Authorization:"Bearer "+localStorage.getItem(h)}}).then((function(e){console.log(e),console.log("updating Lists1")})).then((function(e){v.a.success("Draft Saved successfully"),console.log("response="+e),n.props.history.push("/assessment")})),v.a.success("Submitted successfully"),n.props.history.push("/assessment"))},n.state={templateData:null,answersData:{},questionData:{},comment:"",ans:[],userId:localStorage.getItem("userID"),allquestions:[],selectedquestions:n.props.payload,quest:localStorage.getItem("payload123")},n}return Object(R.a)(a,[{key:"componentDidMount",value:function(){console.log(localStorage.getItem("payload123"));var e=this.props.history.location.data.questionsList;console.log(this.props.history.location.data.questionsList),console.log(e),this.setState({dataSource:e}),Sa.data.assessmentDetails.questions=e,console.log(this.state.dataSource),console.log(Sa.data.assessmentDetails.questions);var t=[];Sa.data.assessmentDetails.questions.forEach((function(e){t.push({questionID:e.questionID,questionText:e.questionText,ansText:"",mainSkillArea:e.skill.mainSkillArea,subSkillArea:e.skill.subSkillArea,questionLevel:e.questionLevel})})),console.log(t),this.setState({allquestions:t}),console.log(this.state.allquestions);var a={};Sa.data.assessmentDetails.questions.forEach((function(e){e.questionAnswer&&(a[e.questionID]=e.questionText)})),this.setState({templateData:Sa.data,answersData:"",comment:""}),this.setState({questionData:a})}},{key:"render",value:function(){var e=this;console.log("hi inside assessmnet form 2"),console.log(localStorage.getItem("payload123")),console.log(this.props),console.log(this.props.history),console.log(this.state);var t=this.state,a=t.templateData,s=t.comment;if(!a)return null;var o=[{title:"Main Skill",dataIndex:"skill.mainSkillArea",key:"skill.mainSkillArea"},{title:"Sub Skill",dataIndex:"skill.subSkillArea",key:"skill.subSkillArea"},{title:"Question Level",dataIndex:"questionLevel",key:"questionLevel"},{title:"Question",dataIndex:"questionText",key:"questionText"},{title:"Answer",dataIndex:"questionID",key:"questionID",render:function(t,a){var s=e.state.answersData;return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)(fa.a.Group,{name:"radiogroup",value:s&&s[t]||"",onChange:function(t){return e.changeAnswer(t,a)},style:{display:"flex",flexDirection:"row"},children:[Object(n.jsx)(We.a,{title:"Not Independent",children:Object(n.jsx)(fa.a,{value:1,children:"1"})}),Object(n.jsx)(We.a,{title:"Independent with Guidance",children:Object(n.jsx)(fa.a,{value:2,children:"2"})}),Object(n.jsx)(We.a,{title:"Independent",children:Object(n.jsx)(fa.a,{value:3,children:"3"})})]})})}}];return Object(n.jsxs)("div",{children:[Object(n.jsxs)(oa,{children:[localStorage.getItem("testName"),localStorage.getItem("payload123")]}),Object(n.jsx)(ra,{children:Object(n.jsx)(ve.a,{dataSource:this.state.dataSource,columns:o,pagination:!1})}),Object(n.jsx)(ia,{children:Object(n.jsx)(D.a.TextArea,{rows:4,value:s,placeholder:"Enter your comment",onChange:this.commentChange})}),Object(n.jsxs)(la,{children:[Object(n.jsx)(ca,{type:"default",onClick:function(){return e.submitForm("saveDraft")},children:"Save Draft"}),Object(n.jsx)(ca,{type:"primary",onClick:function(){return e.submitForm("submit")},children:"Submit"})]})]})}}]),a}(o.a.PureComponent),va=function(e){Object(P.a)(a,e);var t=Object(Y.a)(a);function a(e){var n;return Object(B.a)(this,a),(n=t.call(this,e)).getStudentListApiCAllFunction=function(){g.a.get("/assessment/get?studentReferenceNumber=123",{headers:{Authorization:"Bearer "+localStorage.getItem(h)}}).then((function(e){if(console.log(e),console.log(e.status),console.log(e.data.data),console.log("akash"),200===e.status)return e.data.data;console.log("error")})).catch((function(e){console.log(e)})).then((function(e){console.log("response.data.data : ",e),n.setState({dataSource:e})}))},n.changeFilter=function(e){n.setState({filterValue:e.target.value})},n.editStudentData=function(e){n.setState({addEditModalStatus:"edit",addEditingStudentData:e})},n.createNewStudent=function(e){n.setState({addEditModalStatus:"add"})},n.selectAssessment=function(e){n.setState({addEditingStudentData:e}),console.log("assessment from ",n.state),console.log(e),localStorage.setItem("assessmentID",e),console.log("history props : ",n.props),n.props.history.push("/assessment/past/ans/".concat(e))},n.selectAssessmentView=function(e){console.log("inside view"),n.setState({addEditingStudentData:e}),console.log("assessment from ",n.state),console.log(e),localStorage.setItem("assessmentID",e),console.log("history props : ",n.props),n.props.history.push("/assessment/past/ansview/".concat(e))},n.cancelAddEdit=function(){n.setState({addEditModalStatus:"",addEditingStudentData:null})},n.deleteStudent=function(e){console.log("delete"+e),n.setState({addEditModalStatus:"edit",deleteData:e}),console.log(n.state.deleteData);g.a.get("manageOrganization/delete/",{headers:{Authorization:"Bearer "+localStorage.getItem(h)}}).then((function(e){if(console.log(e),console.log(e.status),console.log(e.data.data),console.log("akash"),200===e.status)return e.data.data;console.log("error")})).catch((function(e){console.log(e)}));v.a.success("Student successfully deleted"),n.getStudentListApiCAllFunction()},n.updateListingData=function(){n.getStudentListApiCAllFunction(),n.cancelAddEdit()},n.state={filterValue:"",dataSource:[],addEditModalStatus:"",addEditingStudentData:null,deleteData:null,studentID:e.match.params.studentId},n}return Object(R.a)(a,[{key:"componentDidMount",value:function(){console.log("pick ur template"),this.getStudentListApiCAllFunction()}},{key:"render",value:function(){var e=this;console.log("hello");var t=[{title:"Assessment",dataIndex:"assessmentID",key:"assessmentID"},{title:"Reported By",dataIndex:"coachName",key:"coachName"},{title:"Status",dataIndex:"status",key:"status"},{title:"",dataIndex:"assessmentID",key:"assessmentID",render:function(t,a){return console.log(a.status),"Pending"===a.status?Object(n.jsx)(I.a,{onClick:function(){return e.selectAssessment(t)},children:"Start"}):Object(n.jsx)(I.a,{onClick:function(){return e.selectAssessmentView(t)},children:"view"})}}],a=this.state,s=a.filterValue,o=a.dataSource,r=(a.addEditModalStatus,a.addEditingStudentData,o);return s&&s.length&&(r=we(o,s,["studentName","studentReferenceNumber","studentContactNo","organization.orgName","userID"])),Object(n.jsxs)("div",{children:[Object(n.jsx)(vt,{children:Object(n.jsx)(Dt,{onChange:this.changeFilter,value:s,placeholder:"Enter Filter"})}),Object(n.jsx)(ve.a,{dataSource:r,columns:t})]})}}]),a}(o.a.PureComponent),Da=function(e){Object(P.a)(a,e);var t=Object(Y.a)(a);function a(e){var n;return Object(B.a)(this,a),(n=t.call(this,e)).changeAnswer=function(e,t){var a;console.log("changeAns"),n.setState({answersData:Object(c.a)(Object(c.a)({},n.state.answersData),{},(a={},Object(l.a)(a,t.questionID,e.target.value),Object(l.a)(a,"question",t.questionID),Object(l.a)(a,"answer",e.target.value),a))}),console.log(t),n.state.ans.push({question:t.questionID,answer:e.target.value})},n.commentChange=function(e){n.setState({comment:e.target.value})},n.submitForm=function(e){console.log("mode : ",e),console.log("state : ",n.state.answersData),console.log("state : ",n.state);var t=n.state.ans;console.log(t),console.log(n.state.ans.length),console.log(t.length);for(var a=[],s=0;s<t.length;s++)console.log(n.state.userId),console.log(n.state.ans.answer),console.log(n.state.ans.question),console.log(n.state.templateData.studentDetails.studentID),a.push({userID:Number(n.state.userId),answerText:t[s].answer,questionID:t[s].question,studentReferenceNumber:n.state.templateData.studentDetails.studentReferenceNumber,comment:n.state.comment});(console.log(a),"submit"===e)&&g.a.post("/assessment/submit",a,{headers:{Authorization:"Bearer "+localStorage.getItem(h)}}).then((function(e){console.log(e),console.log("updating Lists1")})).then((function(e){v.a.success("Submitted successfully"),console.log("response="+e),n.props.history.push("/assessment")}));"saveDraft"===e&&g.a.post("/assessment/draft",a,{headers:{Authorization:"Bearer "+localStorage.getItem(h)}}).then((function(e){console.log(e),console.log("updating Lists1")})).then((function(e){v.a.success("Draft Saved successfully"),console.log("response="+e),n.props.history.push("/assessment")}))},n.state={templateData:null,answersData:{},comment:"",ans:[],userId:localStorage.getItem("userID")},n}return Object(R.a)(a,[{key:"componentDidMount",value:function(){var e=this;g.a.get("/assessment/getAssessment?assessmentID="+localStorage.getItem("assessmentID"),{headers:{Authorization:"Bearer "+localStorage.getItem(h)}}).then((function(e){if(console.log(e),console.log(e.data.data.answers),200===e.status)return e.data.data.answers;console.log("error")})).catch((function(e){console.log(e)})).then((function(t){console.log("response.data.data : ",t),e.setState({dataSource:t}),Sa.data.assessmentDetails.questions=t,console.log(e.state.dataSource),console.log(Sa.data.assessmentDetails.questions)})),console.log("old ans");var t={};Sa.data.assessmentDetails.questions.forEach((function(e){console.log(e),e.answerText&&(t[e.questionID]=e.answerText)})),this.setState({templateData:Sa.data,answersData:t,comment:Sa.data.assessmentDetails.comment||""}),console.log(t)}},{key:"render",value:function(){var e=this,t=this.state,a=t.templateData,s=t.comment;if(!a)return null;var o=[{title:"Question",dataIndex:"questionText",key:"questionText"},{title:"Answer",dataIndex:"questionID",key:"questionID",render:function(t,a){var s=e.state.answersData;return Object(n.jsxs)(fa.a.Group,{name:"radiogroup",value:s&&s[t]||"",onChange:function(t){return e.changeAnswer(t,a)},style:{display:"flex",flexDirection:"row"},children:[Object(n.jsx)(We.a,{title:"Not Independent",children:Object(n.jsx)(fa.a,{value:1,children:"1"})}),Object(n.jsx)(We.a,{title:"Independent with Guidance",children:Object(n.jsx)(fa.a,{value:2,children:"2"})}),Object(n.jsx)(We.a,{title:"Independent",children:Object(n.jsx)(fa.a,{value:3,children:"3"})})]})}}];return Object(n.jsxs)("div",{children:[Object(n.jsx)(oa,{children:localStorage.getItem("testName")}),Object(n.jsx)(ra,{children:Object(n.jsx)(ve.a,{dataSource:this.state.dataSource,columns:o,pagination:!1})}),Object(n.jsx)(ia,{children:Object(n.jsx)(D.a.TextArea,{rows:4,value:s,placeholder:"Enter your comment",onChange:this.commentChange})}),Object(n.jsxs)(la,{children:[Object(n.jsx)(ca,{type:"default",onClick:function(){return e.submitForm("saveDraft")},children:"Save Draft"}),Object(n.jsx)(ca,{type:"primary",onClick:function(){return e.submitForm("submit")},children:"Submit"})]})]})}}]),a}(o.a.PureComponent),Ia=function(e){Object(P.a)(a,e);var t=Object(Y.a)(a);function a(e){var n;return Object(B.a)(this,a),(n=t.call(this,e)).changeAnswer=function(e,t){var a;console.log("changeAns"),n.setState({answersData:Object(c.a)(Object(c.a)({},n.state.answersData),{},(a={},Object(l.a)(a,t.questionID,e.target.value),Object(l.a)(a,"question",t.questionID),Object(l.a)(a,"answer",e.target.value),a))}),console.log(t),n.state.ans.push({question:t.questionID,answer:e.target.value})},n.commentChange=function(e){n.setState({comment:e.target.value})},n.submitForm=function(e){console.log("mode : ",e),console.log("state : ",n.state.answersData),console.log("state : ",n.state);var t=n.state.ans;console.log(t),console.log(n.state.ans.length),console.log(t.length);for(var a=[],s=0;s<t.length;s++)console.log(n.state.userId),console.log(n.state.ans.answer),console.log(n.state.ans.question),console.log(n.state.templateData.studentDetails.studentID),a.push({userID:Number(n.state.userId),answerText:t[s].answer,questionID:t[s].question,studentReferenceNumber:n.state.templateData.studentDetails.studentReferenceNumber,comment:n.state.comment});(console.log(a),"submit"===e)&&g.a.post("/assessment/submit",a,{headers:{Authorization:"Bearer "+localStorage.getItem(h)}}).then((function(e){console.log(e),console.log("updating Lists1")})).then((function(e){v.a.success("Submitted successfully"),console.log("response="+e),n.props.history.push("/assessment")}));"saveDraft"===e&&g.a.post("/assessment/draft",a,{headers:{Authorization:"Bearer "+localStorage.getItem(h)}}).then((function(e){console.log(e),console.log("updating Lists1")})).then((function(e){v.a.success("Draft Saved successfully"),console.log("response="+e),n.props.history.push("/assessment")}))},n.state={templateData:null,answersData:{},comment:"",ans:[],userId:localStorage.getItem("userID"),disabled:!0},n}return Object(R.a)(a,[{key:"componentDidMount",value:function(){var e=this;g.a.get("/assessment/getAssessment?assessmentID="+localStorage.getItem("assessmentID"),{headers:{Authorization:"Bearer "+localStorage.getItem(h)}}).then((function(e){if(console.log(e),console.log(e.data.data.answers),200===e.status)return e.data.data.answers;console.log("error")})).catch((function(e){console.log(e)})).then((function(t){console.log("response.data.data : ",t),e.setState({dataSource:t}),Sa.data.assessmentDetails.questions=t,console.log(e.state.dataSource),console.log(Sa.data.assessmentDetails.questions),console.log("old ans");var a={};Sa.data.assessmentDetails.questions.forEach((function(e){console.log(e),e.answerText&&(a[e.questionID]=e.answerText)})),e.setState({templateData:Sa.data,answersData:a,comment:Sa.data.assessmentDetails.comment||""}),console.log(a)}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.templateData,s=t.comment;if(!a)return null;var o=[{title:"Main Skill",dataIndex:"mainSkillArea",key:"mainSkillArea"},{title:"Sub Skill",dataIndex:"subSkillArea",key:"subSkillArea"},{title:"Question Level",dataIndex:"questionLevel",key:"questionLevel"},{title:"Question",dataIndex:"questionText",key:"questionText"},{title:"Answer",dataIndex:"questionID",key:"questionID",render:function(t,a){var s=e.state.answersData;return Object(n.jsxs)(fa.a.Group,{name:"radiogroup",value:s&&s[t]||"",onChange:function(t){return e.changeAnswer(t,a)},style:{display:"flex",flexDirection:"row"},disabled:e.state.disabled,children:[Object(n.jsx)(We.a,{title:"Not Independent",children:Object(n.jsx)(fa.a,{value:1,children:"1"})}),Object(n.jsx)(We.a,{title:"Independent with Guidance",children:Object(n.jsx)(fa.a,{value:2,children:"2"})}),Object(n.jsx)(We.a,{title:"Independent",children:Object(n.jsx)(fa.a,{value:3,children:"3"})})]})}}];return Object(n.jsxs)("div",{children:[Object(n.jsx)(oa,{children:localStorage.getItem("testName")}),Object(n.jsx)(ra,{children:Object(n.jsx)(ve.a,{dataSource:this.state.dataSource,columns:o,pagination:!1})}),Object(n.jsx)(ia,{children:Object(n.jsx)(D.a.TextArea,{rows:4,value:s,placeholder:"Enter your comment",onChange:this.commentChange})})]})}}]),a}(o.a.PureComponent),ka=function(e){Object(P.a)(a,e);var t=Object(Y.a)(a);function a(e){var n;return Object(B.a)(this,a),(n=t.call(this,e)).state={},n}return Object(R.a)(a,[{key:"render",value:function(){return Object(n.jsxs)(m.d,{children:[Object(n.jsx)(m.b,{exact:!0,path:"/assessment/create",component:xa}),Object(n.jsx)(m.b,{exact:!0,path:"/assessment/past/ansview/:studentId",component:Ia}),Object(n.jsx)(m.b,{exact:!0,path:"/assessment/past/ans/:studentId",component:Da}),Object(n.jsx)(m.b,{exact:!0,path:"/assessment/pastassessment/:studentId",component:va}),Object(n.jsx)(m.b,{exact:!0,path:"/assessment/:studentId/:templateId",component:Oa}),Object(n.jsx)(m.b,{exact:!0,path:"/assessment/:studentId",component:ba}),Object(n.jsx)(m.b,{exact:!0,path:"/assessment",component:wt})]})}}]),a}(o.a.PureComponent),wa=a(565),ya=a(546);function Ca(){var e=Object(j.a)(["\n    display: flex;\n"]);return Ca=function(){return e},e}function Aa(){var e=Object(j.a)(["\n    padding: 5px 10px;\n"]);return Aa=function(){return e},e}function Na(){var e=Object(j.a)(["\n    margin: 15px 0;\n"]);return Na=function(){return e},e}function Ea(){var e=Object(j.a)(["\n    margin-right: 150px;\n"]);return Ea=function(){return e},e}function qa(){var e=Object(j.a)(["\n    display: flex;\n    width: 600px;\n"]);return qa=function(){return e},e}function La(){var e=Object(j.a)(["\n    max-width: 350px;\n"]);return La=function(){return e},e}function za(){var e=Object(j.a)(["\n    margin-bottom: 15px;\n    display: flex;\n    justify-content: space-between;\n"]);return za=function(){return e},e}function Ma(){var e=Object(j.a)(["\n    margin-bottom: 35px;\n    display: flex;\n    justify-content: space-between;\n"]);return Ma=function(){return e},e}var Ta=b.a.div(Ma()),Fa=b.a.div(za()),Ua=Object(b.a)(D.a)(La()),Qa=b.a.div(qa()),Va=Object(b.a)(Qe)(Ea()),Ba=b.a.div(Na()),Ra=b.a.div(Aa()),Pa=b.a.div(Ca()),Ya=function(e){Object(P.a)(a,e);var t=Object(Y.a)(a);function a(e){var n;return Object(B.a)(this,a),(n=t.call(this,e)).submit=function(){console.log("Update State method",n.state),console.log("hi im in update button click"),console.log("addEditingQuestionData : ",n.state.addEditingQuestionData),console.log("addEditModalStatus : ",n.props.addEditModalStatus),console.log("mainSkillValue : ",n.props.mainSkillValue),console.log("subSkillValue : ",n.props.subSkillValue);var e={questionID:n.state.addEditingQuestionData.questionID,questionLabel:n.state.addEditingQuestionData.question,questionLevel:n.state.addEditingQuestionData.questionLevel};(console.log("manasa ",e),"add"===n.props.addEditModalStatus)?(console.log("inside add the student"),console.log(e),g.a.post("manageQuestion/addQuestion?questionText="+e.questionLabel+"&mainSkillArea="+n.props.mainSkillValue+"&subSkillArea="+n.props.subSkillValue+"&questionLevel="+e.questionLevel,{},{headers:{Authorization:"Bearer "+localStorage.getItem(h)}}).then((function(e){return console.log(e),console.log("add Question list1"),e})).then((function(e){console.log("in reply",e),200===e.status?"error"===e.data.status?v.a.error(e.data.message):"success"===e.data.status&&(n.props.updateListingData(),""!==e.data.message&&v.a.success(e.data.message)):v.a.error("Something went wrong")})).catch((function(e){console.log(e.response),403===e.response.status?v.a.error("You were logged out!"):v.a.error("Unable to contact server")})),console.log(n.props.mainSkillValue),console.log(n.props.subSkillValue),g.a.post("/manageQuestion/addQuestion?questionText="+e.questionLabel+"&mainSkillArea="+n.props.mainSkillValue+"&subSkillArea="+n.props.subSkillValue+"&questionLevel="+e.questionLevel,{headers:{Authorization:"Bearer "+localStorage.getItem(h)}}).then((function(e){console.log(e),console.log("add Question list1")})).then((function(e){v.a.success("Question successfully added..!"),n.props.updateListingData()}))):g.a.patch("/manageQuestion/updateQuestion?questionID="+e.questionID+"&questionText="+e.questionLabel+"&questionLevel="+e.questionLevel,e,{headers:{Authorization:"Bearer "+localStorage.getItem(h)}}).then((function(e){})).then((function(e){v.a.success("Question successfully updated!"),n.props.updateListingData()}))},n.changeFilter=function(e){console.log("value----",e),console.log("aa",n.state.addEditingQuestionData),n.setState({addEditingQuestionData:Object(c.a)(Object(c.a)({},n.state.addEditingQuestionData),{},{question:e})})},n.changeQuestionLevel=function(e){console.log("Chnage question lelvel new value----------\x3e>>>>>>>>>>>>>>>>>>>>>>>>>>",e),n.setState({addEditingQuestionData:Object(c.a)(Object(c.a)({},n.state.addEditingQuestionData),{},{questionLevel:e})})},n.state={addEditingQuestionData:{question:"",questionID:"",questionLevel:""},questionLevelList:[{id:"Bronze",label:"Bronze"},{id:"Silver",label:"Silver"},{id:"Gold",label:"Gold"}]},n}return Object(R.a)(a,[{key:"componentDidMount",value:function(){console.log("in component ",this.props.addEditingQuestionData);var e=this.props.addEditingQuestionData;e&&this.setState({addEditingQuestionData:Object(c.a)(Object(c.a)({},e),{},{question:e.questionLabel,questionID:e.questionID})})}},{key:"render",value:function(){var e=this,t=this.state.addEditingQuestionData,a=this.props,s=a.cancelAddEdit,o=a.addEditModalStatus,r=a.mainSkillValue,i=a.mainSkillOptions,l=a.subSkillValue,c=a.subSkillOptions;a.questionLevelList;return console.log("Select struc uture",i),console.log("state : ",this.state),Object(n.jsxs)(Fe.a,{title:"edit"===o?"Edit Student Data":"Add New Student",visible:o.length,onOk:"edit"===o?this.editStudentData:this.createNewStudent,onCancel:s,footer:[Object(n.jsx)(I.a,{onClick:s,children:"Cancel"},"back"),Object(n.jsx)(I.a,{type:"primary",onClick:this.submit,children:"edit"===o?"Update":"Create"},"submit")],children:[Object(n.jsx)(Ba,{children:Object(n.jsx)(Qe,{disabled:!0,onChange:function(t){return e.changeFilter(t.target.value)},value:r,placeholder:"Main skill",options:i})}),Object(n.jsx)(Ba,{children:Object(n.jsx)(Qe,{disabled:!0,onChange:function(t){return e.changeFilter(t.target.value)},value:l,placeholder:"Sub skill",options:c})}),Object(n.jsx)(Ba,{children:Object(n.jsx)(D.a,{onChange:function(t){return e.changeFilter(t.target.value)},value:t.question,placeholder:"Enter Question"})}),Object(n.jsx)(Ba,{children:Object(n.jsx)(Qe,{onChangeHandler:function(t){return e.changeQuestionLevel(t)},value:t.questionLevel,placeholder:"Bronze or silver or gold",options:this.state.questionLevelList})})]})}}]),a}(o.a.PureComponent),Ha=function(e){Object(P.a)(a,e);var t=Object(Y.a)(a);function a(e){var n;return Object(B.a)(this,a),(n=t.call(this,e)).changeFilter=function(e,t){var a;(console.log(e),"mainSkillValue"===t)?(n.setState((a={},Object(l.a)(a,t,e),Object(l.a)(a,"subSkillOptions",[]),Object(l.a)(a,"subSkillValue",""),Object(l.a)(a,"questionsData",[]),a)),g.a.get("/manageQuestion/getSubSkills?mainSkillArea="+e,{headers:{Authorization:"Bearer "+localStorage.getItem("jwtToken")}}).then((function(e){if(200===e.status)return e.data.data;console.log("error")})).catch((function(e){console.log(e.response),403===e.response.status?v.a.error("You were logged out!"):v.a.error("Unable to contact server")})).then((function(e){console.log("apiResponse: ",e);for(var t=[],a=0;a<e.length;a++)t.push({id:e[a],label:e[a]});n.setState({subSkillOptions:t})}))):(console.log("else part"),n.setState(Object(l.a)({},t,e)),n.setState(Object(l.a)({},t,e),(function(){this.getQuestions()})))},n.getQuestions=function(){console.log("hi in questions!!!"),console.log("API is","/manageQuestion/bySkill?mainSkillArea=".concat(n.state.mainSkillValue,"&subSkillArea=").concat(n.state.subSkillValue));var e=g.a.get("/manageQuestion/bySkill?mainSkillArea=".concat(n.state.mainSkillValue,"&subSkillArea=").concat(n.state.subSkillValue),{headers:{Authorization:"Bearer "+localStorage.getItem("jwtToken")}}).then((function(e){if(200===e.status)return e.data.data;console.log("error")})).catch((function(e){console.log(e.response),403===e.response.status?v.a.error("You were logged out!"):v.a.error("Unable to contact server")})),t=[];e.then((function(e){console.log("apiResponse in questions: ",e);for(var a=0;a<e.length;a++)t.push({questionID:e[a].questionID,questionLabel:e[a].questionText,questionLevel:e[a].questionLevel});console.log("hi 223",t);var s=t.map((function(e){return Object(c.a)(Object(c.a)({},e),{},{key:e.questionID})}));console.log("Question Data is====",s),n.setState({questionsData:s})}))},n.editQuestion=function(e){console.log("null data",e),n.setState({addEditModalStatus:"edit",addEditingQuestionData:e})},n.deleteQuestion=function(e){console.log("Inside delete question function: ",e),console.log("delete API http://localhost:8080/manageQuestion/deleteQuestion?questionID=".concat(e)),g.a.delete("/manageQuestion/deleteQuestion?questionID=".concat(e),{data:n.deleteQuestion,headers:{Authorization:"Bearer "+localStorage.getItem("jwtToken")}}).then((function(e){console.log(e),200===e.status?"error"===e.data.status?v.a.error(e.data.message):"success"===e.data.status&&""!==e.data.message&&v.a.success(e.data.message):console.log("error")})).catch((function(e){console.log(e.response),403===e.response.status?v.a.error("You were logged out!"):v.a.error("Unable to contact server")})).then((function(e){n.updateListingData()})),console.log("delete question : ",e),n.getQuestions()},n.cancelAddEdit=function(){n.setState({addEditModalStatus:"",addEditingQuestionData:null})},n.updateListingData=function(){n.getQuestions(),n.cancelAddEdit()},n.createNewQuestion=function(){n.setState({addEditModalStatus:"add"})},n.addNewMainSkill=function(){console.log("addItem");var e=n.state,t=e.mainSkillOptions,a=e.newMainSkillValue;console.log(t,a),g.a.post("/manageQuestion/addMainSkill?mainSkillArea=".concat(a),{},{headers:{Authorization:"Bearer "+localStorage.getItem("jwtToken")}}).then((function(e){console.log("suceess added db"),v.a.success(e.data.message),"success"===e.data.status&&n.setState({mainSkillOptions:[].concat(Object(Pe.a)(t),[{id:a,label:a}]),newMainSkillValue:""})})).catch((function(e){v.a.success("main skill api  error")})),n.setState({mainSkillOptions:[].concat(Object(Pe.a)(t),[{id:a,label:a}]),newMainSkillValue:""})},n.addNewSubSkill=function(){console.log("addItem");var e=n.state,t=e.subSkillOptions,a=e.newSubSkillValue,s=e.mainSkillValue;g.a.post("/manageQuestion/addSubSkill?mainSkillArea=".concat(s,"&subSkillArea=").concat(a),{},{headers:{Authorization:"Bearer "+localStorage.getItem("jwtToken")}}).then((function(e){console.log(e),v.a.success(e.data.message),"success"===e.data.status&&n.setState({subSkillOptions:[].concat(Object(Pe.a)(t),[{id:a,label:a}]),newSubSkillValue:""})})).catch((function(e){console.log(e),v.a.success("Subskill  error")})),console.log(t,a)},n.state={mainSkillOptions:[],mainSkillValue:"",subSkillOptions:[],subSkillValue:"",questionsData:[],addEditModalStatus:"",addEditingQuestionData:null,questionFilterValue:"",newMainSkillValue:"",newSubSkillValue:""},n}return Object(R.a)(a,[{key:"componentDidMount",value:function(){var e=this;g.a.get("/manageQuestion/getMainSkills",{headers:{Authorization:"Bearer "+localStorage.getItem("jwtToken")}}).then((function(e){if(200===e.status)return e.data.data;console.log("error")})).catch((function(e){console.log(e.response),403===e.response.status?v.a.error("You were logged out!"):v.a.error("Unable to contact server")})).then((function(t){console.log("apiResponse in get main skills: ",t);for(var a=[],n=0;n<t.length;n++)a.push({id:t[n],label:t[n]});e.setState({mainSkillOptions:a})}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.mainSkillOptions,s=t.mainSkillValue,o=t.subSkillOptions,r=t.subSkillValue,i=t.questionsData,l=t.addEditModalStatus,c=t.addEditingQuestionData,u=t.questionFilterValue,d=t.newMainSkillValue,g=t.newSubSkillValue,h=[{title:"Question",dataIndex:"questionLabel",key:"questionLabel"},{title:"Question Level",dataIndex:"questionLevel",key:"questionLevel"},{title:"Action",dataIndex:"questionID",key:"questionID",render:function(t,a){return Object(n.jsxs)(Pa,{children:[Object(n.jsx)(Ra,{children:Object(n.jsx)(xe.a,{title:"Are you sure ?",onConfirm:function(){return e.deleteQuestion(t)},okText:"Yes",cancelText:"No",children:Object(n.jsx)(W.a,{type:"delete"})})}),Object(n.jsx)(Ra,{children:Object(n.jsx)(W.a,{type:"edit",onClick:function(){return e.editQuestion(a)}})})]})}}],m=i;return u&&u.length&&(m=we(i,u,["questionLabel"])),Object(n.jsxs)("div",{children:[Object(n.jsx)(Ta,{children:Object(n.jsxs)(Qa,{children:[Object(n.jsx)(Va,{options:a||[],value:s,showSearch:!0,allowClear:!0,showArrow:!0,onChangeHandler:function(t){return e.changeFilter(t,"mainSkillValue")},onSearch:function(t){e.setState({newMainSkillValue:t})},placeholder:"Select Main Skill",dropdownRender:function(t){return Object(n.jsxs)("div",{children:[t,Object(n.jsx)(ya.a,{style:{margin:"4px 0"}}),Object(n.jsxs)("div",{onMouseDown:function(e){return e.preventDefault()},style:{display:"flex",flexWrap:"nowrap",padding:8},children:[Object(n.jsx)(D.a,{style:{flex:"auto"},value:d,onChange:function(t){alert("enter"),e.setState({newMainSkillValue:t.target.value})}}),Object(n.jsxs)("a",{style:{flex:"none",padding:"8px",display:"block",cursor:"pointer"},onClick:e.addNewMainSkill,children:[Object(n.jsx)(wa.a,{})," Add MainSkill"]})]})]})}}),Object(n.jsx)(Va,{options:o||[],value:r,showSearch:!0,allowClear:!0,showArrow:!0,onChangeHandler:function(t){return e.changeFilter(t,"subSkillValue")},placeholder:"Select Sub Skill",onSearch:function(t){e.setState({newSubSkillValue:t})},dropdownRender:function(t){return Object(n.jsxs)("div",{children:[t,Object(n.jsx)(ya.a,{style:{margin:"4px 0"}}),Object(n.jsxs)("div",{onMouseDown:function(e){return e.preventDefault()},style:{display:"flex",flexWrap:"nowrap",padding:8},children:[Object(n.jsx)(D.a,{style:{flex:"auto"},value:g,onChange:function(t){alert("enter"),e.setState({newSubSkillValue:t.target.value})}}),Object(n.jsxs)("a",{style:{flex:"none",padding:"8px",display:"block",cursor:"pointer"},onClick:e.addNewSubSkill,children:[Object(n.jsx)(wa.a,{})," Add SubSkill"]})]})]})}})]})}),s&&r?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)(Fa,{children:[Object(n.jsx)(Ua,{value:u,onChange:function(t){return e.changeFilter(t.target.value,"questionFilterValue")},placeholder:"Filter question"}),Object(n.jsx)(I.a,{onClick:this.createNewQuestion,children:"Create New Question"})]}),Object(n.jsx)(Ba,{children:Object(n.jsx)(ve.a,{dataSource:m,columns:h,pagination:!1})})]}):null,l&&l.length?Object(n.jsx)(Ya,{addEditModalStatus:l,addEditingQuestionData:c,cancelAddEdit:this.cancelAddEdit,updateListingData:this.updateListingData,mainSkillValue:s,mainSkillOptions:a,subSkillValue:r,subSkillOptions:o}):null]})}}]),a}(o.a.PureComponent);a(229);function _a(){var e=Object(j.a)(["\n    display: flex;\n"]);return _a=function(){return e},e}function Ga(){var e=Object(j.a)(["\n    padding: 5px 10px;\n"]);return Ga=function(){return e},e}function Wa(){var e=Object(j.a)(["\n    margin: 15px 0;\n"]);return Wa=function(){return e},e}function $a(){var e=Object(j.a)(["\n    max-width: 350px;\n"]);return $a=function(){return e},e}function Ka(){var e=Object(j.a)(["\n    margin-bottom: 15px;\n    display: flex;\n    justify-content: space-between;\n"]);return Ka=function(){return e},e}var Ja=b.a.div(Ka()),Za=Object(b.a)(D.a)($a()),Xa=b.a.div(Wa()),en=b.a.div(Ga()),tn=b.a.div(_a()),an=Object(Q.a)((function(e){return{root:{margin:"auto"},cardHeader:{padding:e.spacing(1,2)},list:{width:350,height:350,backgroundColor:e.palette.background.paper,overflow:"auto"},button:{margin:e.spacing(.5,0),fontSize:14,height:32,fontWeight:400,whiteSpace:"nowrap",color:"rgba(0, 0, 0, 0.65)",textTransform:"none"},button1:{margin:e.spacing(.5,0),fontSize:14,height:32,fontWeight:400,whiteSpace:"nowrap",marginRight:20,marginLeft:90,color:"rgba(0, 0, 0, 0.65)",textTransform:"none"}}}));function nn(e,t){return e.filter((function(e){return!t.find((function(t){return t.key===e.key}))}))}function sn(e){var t=e.defaultList,a=e.defaultSelectedList,r=e.onSelectListChange,i=an(),l=o.a.useState([]),c=Object(u.a)(l,2),d=c[0],g=c[1],h=o.a.useState([]),m=Object(u.a)(h,2),p=m[0],j=m[1],b=o.a.useState(t||[]),f=Object(u.a)(b,2),S=f[0],O=f[1],x=o.a.useState(a||[]),v=Object(u.a)(x,2),D=v[0],I=v[1];Object(s.useEffect)((function(){O(t)}),[t]);var k=function(e,t){return function(){if("left"===t){var a=d.findIndex((function(t){return t.key===e.key})),n=Object(Pe.a)(d);-1===a?n.push(e):n.splice(a,1),g(n)}else{var s=p.findIndex((function(t){return t.key===e.key})),o=Object(Pe.a)(p);-1===s?o.push(e):o.splice(s,1),j(o)}}},w=function(e,t,a){return Object(n.jsxs)(Qt.a,{children:[Object(n.jsxs)(ne.a,{className:i.list,dense:!0,component:"div",role:"list",children:[t.map((function(t){var a="transfer-list-all-item-".concat(t.key,"-label");return Object(n.jsxs)(se.a,{role:"listitem",button:!0,onClick:k(t,e),children:[Object(n.jsx)(oe.a,{children:Object(n.jsx)(Vt.a,{checked:!!("left"===e?d:p).find((function(e){return e.key===t.key})),tabIndex:-1,disableRipple:!0,inputProps:{"aria-labelledby":a}})}),Object(n.jsx)(re.a,{id:a,primary:"".concat(t.title)})]},t.key)})),Object(n.jsx)(se.a,{})]}),Object(n.jsx)(Bt.a,{}),a]})};return Object(n.jsxs)(Rt.a,{container:!0,spacing:2,justify:"center",alignItems:"center",className:i.root,children:[Object(n.jsx)(Rt.a,{item:!0,children:w("left",S,Object(n.jsxs)(n.Fragment,{children:[" ",Object(n.jsx)(Ut.a,{variant:"outlined",size:"small",className:(i.button,i.button1),onClick:function(){var e=nn(d,D);console.log("rem",e,"right",D);var t=Object(Pe.a)(new Set(D.concat(e)));I(t),O(nn(S,[])),g([]),r&&r(t)},"aria-label":"move selected right",children:"Add"}),Object(n.jsx)(Ut.a,{variant:"outlined",size:"small",className:i.button,onClick:function(){var e=nn(S,D),t=Object(Pe.a)(new Set(D.concat(e)));I(t),g([]),r&&r(t)},"aria-label":"move selected right",style:{marginRight:30},children:"Add all"})]}))}),Object(n.jsx)(Rt.a,{item:!0,children:w("right",D,Object(n.jsxs)(n.Fragment,{children:[" ",Object(n.jsx)(Ut.a,{variant:"outlined",size:"small",className:(i.button,i.button1),onClick:function(){O(S);var e=nn(D,p);I(e),j([]),r&&r(e)},"aria-label":"move selected left",children:"Delete"}),Object(n.jsx)(Ut.a,{variant:"outlined",size:"small",className:i.button,onClick:function(){Object(Pe.a)(new Set(D.concat(S)));I([]),j([]),r&&r([])},"aria-label":"move selected left",children:"Delete all"})]}))})]})}var on="/manageQuestion/getMainSkills",rn="/manageQuestion/getSubSkills",ln="/manageQuestion/bySkill",cn=("/manageStudents/getCoaches/?orgID=".concat(localStorage.getItem("orgID")),"manageTemplate/"),un="/manageTemplate/",dn={getMainSkills:function(){var e=Object(Et.a)(Nt.a.mark((function e(){return Nt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get(on,{headers:{Authorization:"Bearer "+localStorage.getItem(h)}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getSubSkills:function(){var e=Object(Et.a)(Nt.a.mark((function e(t){return Nt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get(rn,{params:{mainSkillArea:t},headers:{Authorization:"Bearer "+localStorage.getItem(h)}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getQuestions:function(){var e=Object(Et.a)(Nt.a.mark((function e(t,a){return Nt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get(ln,{params:{mainSkillArea:t,subSkillArea:a},headers:{Authorization:"Bearer "+localStorage.getItem(h)}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),getAllUsers:function(){var e=Object(Et.a)(Nt.a.mark((function e(){return Nt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get("/manageStudents/getCoaches/?orgID="+localStorage.getItem("orgID"),{headers:{Authorization:"Bearer "+localStorage.getItem(h)}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),setTemplate:function(){var e=Object(Et.a)(Nt.a.mark((function e(t){return Nt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.post(cn,t,{headers:{Authorization:"Bearer "+localStorage.getItem(h)}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),updateTemplate:function(){var e=Object(Et.a)(Nt.a.mark((function e(t){return Nt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.put(un,t,{headers:{Authorization:"Bearer "+localStorage.getItem(h)}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},gn=function(e){Object(P.a)(a,e);var t=Object(Y.a)(a);function a(e){var n;return Object(B.a)(this,a),(n=t.call(this,e)).handelMainSkillChange=function(e){dn.getSubSkills(e).then((function(t){if(!t.data||!t.data.data)throw new Error("data not found in response");n.setState({subSkillList:t.data.data,selectedMainSkillArea:e}),n.setState({selectedSubSkillArea:null,questionsList:[]})})).catch((function(e){alert("error  main skill handle change")}))},n.handelSubSkillChange=function(e){dn.getQuestions(n.state.selectedMainSkillArea,e).then((function(t){if(!t.data||!t.data.data)throw new Error("data not found in response");n.setState({questionsList:t.data.data,selectedSubSkillArea:e})})).catch((function(e){alert("error subskill")}))},n.cancelAddEdit=function(){n.setState({addEditModalStatus:"",addEditingTemplateData:null})},n.submit=function(){var e=n.state,t=e.templateName,a=e.assignedList,s=e.selectedQuestionList;n.props.onSave,n.props.templateID&&n.props.templateID;if("add"===n.props.addEditModalStatus)dn.setTemplate({templateName:t,createdBY:{userID:localStorage.getItem("userID")},assignedTo:a.map((function(e){return{userID:e}})),questionsList:s.map((function(e){return{questionID:e.key}}))}).then((function(e){v.a.success("Template successfully added"),n.props.updateListingData()})).catch((function(e){alert("error while saving")}));else{console.log("inside update"),console.log("templateID  is",n.props.addEditingTemplateData.templateID);var o={templateID:n.props.addEditingTemplateData.templateID,templateName:t,createdBY:{userID:localStorage.getItem("userID")},assignedTo:a.map((function(e){return{userID:e}})),questionsList:s.map((function(e){return{questionID:e.key}}))};console.log("payload is",o),dn.updateTemplate(o).then((function(e){v.a.success("Template successfully updated"),n.props.updateListingData()})).catch((function(e){alert("error while update")}))}},n.state={templateName:e.templateName||"",selectedMainSkillArea:"",mainSkillList:[],selectedSubSkillArea:"",subSkillList:[],selectedQuestionList:(e.questionsList||[]).map((function(e){return{key:e.questionID,title:e.questionText}})),questionsList:[],assignedList:(e.assignedTo||[]).map((function(e){return e.userID})),masterUserList:[]},n}return Object(R.a)(a,[{key:"componentDidMount",value:function(){var e=this;dn.getMainSkills().then((function(t){if(!t.data||!t.data.data)throw new Error("data not found in response");e.setState({mainSkillList:t.data.data})})).catch((function(e){alert("error did mount")})),dn.getAllUsers().then((function(t){if(!t.data||!t.data.data)throw new Error("data not found in response");e.setState({masterUserList:t.data.data})})).catch((function(e){alert("error all select")}));var t=this.props.addEditingTemplateData;t&&this.setState(Object(c.a)(Object(c.a)({},t),{},{templateName:t.templateName,selectedQuestionList:(t.questionsList||[]).map((function(e){return{key:e.questionID,title:e.questionText}})),assignedList:(t.assignedTo||[]).map((function(e){return e.userID})),questionsList:[]}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.questionsList,s=t.mainSkillList,o=t.assignedList,r=t.masterUserList,i=t.selectedMainSkillArea,l=t.selectedSubSkillArea,c=t.selectedQuestionList,u=t.subSkillList,d=t.templateName,g=this.props,h=g.cancelAddEdit,m=g.addEditModalStatus;return Object(n.jsxs)(Fe.a,{title:"edit"===m?"Edit Template":"Create Template",visible:m.length,onOk:"edit"===m?this.editTemplateData:this.createNewTemplate,onCancel:h,footer:[Object(n.jsx)(I.a,{onClick:h,children:"Cancel"},"back"),Object(n.jsx)(I.a,{type:"primary",onClick:this.submit,children:"edit"===m?"Update":"Create"},"submit")],children:[Object(n.jsxs)(Xa,{style:{width:700},children:["  ",Object(n.jsx)("p",{style:{color:"rgba(0, 0, 0, 0.65)"},children:"Template Name"}),Object(n.jsx)(D.a,{value:d,placeholder:"Enter Template Name",onChange:function(t){e.setState({templateName:t.target.value})}})]}),Object(n.jsxs)(Xa,{style:{display:"flex"},children:[Object(n.jsxs)("div",{children:[Object(n.jsx)("p",{style:{color:"rgba(0, 0, 0, 0.65)"},children:"Main-skill Area"}),Object(n.jsxs)(Ue.a,{defaultValue:"",value:i,style:{width:400},onChange:this.handelMainSkillChange,children:[Object(n.jsx)("option",{value:"",hidden:!0,children:"Select main-skill area"}),s.map((function(e,t){return Object(n.jsx)(Ue.a.Option,{value:e,children:e},t)}))]})]}),Object(n.jsxs)("div",{children:[Object(n.jsx)("p",{style:{color:"rgba(0, 0, 0, 0.65)"},children:" Sub-skill Area"}),Object(n.jsxs)(Ue.a,{defaultValue:"",value:l,style:{width:400},onChange:this.handelSubSkillChange,children:[Object(n.jsx)("option",{value:"",hidden:!0,children:"Select sub-skill area"}),u.map((function(e,t){return Object(n.jsx)(Ue.a.Option,{value:e,children:e},t)}))]})]})]}),Object(n.jsx)("p",{style:{color:"rgba(0, 0, 0, 0.65)"},children:"\xa0\xa0\xa0\xa0Select Questions\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0Selected Questions"}),Object(n.jsx)(sn,{defaultList:a.map((function(e){return{key:e.questionID,title:e.questionText}})),defaultSelectedList:c,onSelectListChange:function(t){return e.setState({selectedQuestionList:t})}}),Object(n.jsxs)(Xa,{style:{width:700},children:[Object(n.jsx)("p",{style:{color:"rgba(0, 0, 0, 0.65)"},children:"Assigned Coaches"}),Object(n.jsx)(Ue.a,{mode:"multiple",value:o,placeholder:"Select coaches",style:{width:400},onChange:function(t){e.setState({assignedList:t})},children:r.map((function(e,t){return Object(n.jsx)(Ue.a.Option,{value:e.userID,children:e.userName},t)}))})]})]})}}]),a}(o.a.PureComponent),hn=function(e){Object(P.a)(a,e);var t=Object(Y.a)(a);function a(e){var n;return Object(B.a)(this,a),(n=t.call(this,e)).getTemplateListApiCAllFunction=function(){console.log("inside getTemplateApi Call function 2"),g.a.get("/manageTemplate",{headers:{Authorization:"Bearer "+localStorage.getItem("jwtToken")}}).then((function(e){if(console.log(e),console.log(e.status),console.log("response",e.data),console.log("pran"),200===e.status)return e.data;console.log("error")})).catch((function(e){console.log(e)})).then((function(e){console.log("response.data.data : ",e),n.setState({dataSource:e})}))},n.changeFilter=function(e){n.setState({filterValue:e.target.value})},n.editTemplatetData=function(e){n.setState({addEditModalStatus:"edit",addEditingTemplateData:e})},n.createNewTemplate=function(){n.setState({addEditModalStatus:"add"})},n.cancelAddEdit=function(){n.setState({addEditModalStatus:"",addEditingTemplateData:null})},n.deleteTemplate=function(e){console.log("delete"+e),n.setState({addEditModalStatus:"",deleteData:e}),console.log(n.state.deleteData),console.log(e),g.a.delete("manageTemplate/"+e,{headers:{Authorization:"Bearer "+localStorage.getItem("jwtToken")}}).then((function(e){if(console.log("inside delete function"),console.log(e),console.log(e.status),console.log(e.data.data),console.log("akash"),200===e.status)return e.data.data;console.log("error")})).catch((function(e){console.log(e)})).then((function(e){v.a.success("Template successfully deleted"),n.getTemplateListApiCAllFunction()}))},n.updateListingData=function(){console.log("inside the index page"),n.getTemplateListApiCAllFunction(),n.cancelAddEdit()},n.state={filterValue:"",dataSource:[],addEditModalStatus:"",addEditingTemplateData:null,deleteData:null},n}return Object(R.a)(a,[{key:"componentDidMount",value:function(){this.getTemplateListApiCAllFunction()}},{key:"render",value:function(){var e=this,t=[{title:"Template Name",dataIndex:"templateName",key:"templateName"},{title:"Created By",dataIndex:"createdBY.userName",key:"createdBY"},{title:"Assigned To",dataIndex:"assignedTo",key:"assignedTo",render:function(e){var t=e.map((function(e){return e.userName})).toString();return Object(n.jsx)(We.a,{placement:"bottomLeft",title:Object(n.jsx)("div",{children:e.map((function(e){return Object(n.jsxs)(o.a.Fragment,{children:[e.userName," ",Object(n.jsx)("br",{})]})}))}),children:Object(n.jsx)("span",{style:{cursor:"default"},children:t.substr(0,10)+"..."})})}},{title:"Total Questions",dataIndex:"questionsList.length",key:"questionsList.length"},{title:"Actions",dataIndex:"templateID",key:"templateID",render:function(t,a){return Object(n.jsxs)(tn,{children:[Object(n.jsx)(en,{children:Object(n.jsx)(xe.a,{title:"Are you sure you want to delete template ?",onConfirm:function(){return e.deleteTemplate(t)},okText:"Yes",cancelText:"No",children:Object(n.jsx)(W.a,{type:"delete"})})}),Object(n.jsx)(en,{children:Object(n.jsx)(W.a,{type:"edit",onClick:function(){return e.editTemplatetData(a)}})})]})}}],a=this.state,s=a.filterValue,r=a.dataSource,i=a.addEditModalStatus,l=void 0===i?"":i,c=a.addEditingTemplateData,u=r;return s&&s.length&&(u=we(r,s,["templateName","createdBY.userName"])),Object(n.jsxs)("div",{children:[Object(n.jsxs)(Ja,{children:[Object(n.jsx)(Za,{onChange:this.changeFilter,value:s,placeholder:"Enter Filter"}),Object(n.jsx)(I.a,{type:"primary",onClick:this.createNewTemplate,children:"Create Template"})]}),Object(n.jsx)(ve.a,{dataSource:u,columns:t}),l&&l.length?Object(n.jsx)(gn,{addEditModalStatus:l,addEditingTemplateData:c,cancelAddEdit:this.cancelAddEdit,updateListingData:this.updateListingData}):null]})}}]),a}(o.a.PureComponent),mn=p.a.Header,pn=p.a.Content,jn=(p.a.Footer,p.a.Sider,function(e){Object(P.a)(a,e);var t=Object(Y.a)(a);function a(e){var n;return Object(B.a)(this,a),(n=t.call(this,e)).handleSignoutClick=function(){console.log("sign out clicked"),localStorage.clear(),n.props.history.push("/login")},n.handleAccountClick=function(){console.log("account click"),n.props.history.push("/account")},n.handleCollapse=function(){n.setState({isSliderCollapsed:!n.state.isSliderCollapsed})},n.state={isSliderCollapsed:!1},n}return Object(R.a)(a,[{key:"render",value:function(){var e=localStorage.getItem("roleName"),t=[{path:"/dashboard",name:"Dashboard",icon:"dashboard",component:ce,validUsers:["ceo","superadmin","admin","coach"]},{path:"/manageUser",name:"Manage Users",icon:"team",component:st,validUsers:["ceo","superadmin","admin"]},{path:"/manageOrganizations",name:"Manage Organizations",icon:"global",component:Re,validUsers:["ceo","superadmin"]},{path:"/manageTemplates",name:"Manage Templates",icon:"book",component:hn,validUsers:["ceo","superadmin","admin","coach"]},{path:"/manageStudents",name:"Manage Students",icon:"user",component:jt,validUsers:["ceo","superadmin","admin","coach"]},{path:"/assessment",name:"Manage Assessment",icon:"book",component:ka,validUsers:["ceo","superadmin","admin","coach"],hasChildren:!0},{path:"/manageQuestions",name:"Manage Questions",icon:"question-circle",component:Ha,validUsers:["ceo","superadmin","admin","coach"]}].filter((function(t){return t.validUsers.indexOf(e)>=0})),a=this.props.location.pathname.split("/"),s=a[a.length-1];s=(s=s.replace(/([A-Z])/g,(function(e,t){return" "+t.toUpperCase()})).replace(/\s/," ").trim()).charAt(0).toUpperCase()+s.slice(1);G.a,G.a.Item,this.handleAccountClick,G.a.Item,this.handleSignoutClick;return Object(n.jsxs)(X,{children:[Object(n.jsxs)(ee,{breakpoint:"sm",collapsible:!0,collapsed:this.state.isSliderCollapsed,onCollapse:this.handleCollapse,width:"230px",children:[Object(n.jsx)(mn,{style:{padding:"0",height:"55px",color:"white"},children:Object(n.jsx)("div",{children:"ISA"})}),Object(n.jsx)(G.a,{theme:"dark",mode:"inline",children:t.map((function(e){return Object(n.jsx)(G.a.Item,{children:Object(n.jsxs)(_.b,{to:e.path,style:{display:"flex",alignItems:"center"},children:[Object(n.jsx)(W.a,{type:e.icon}),Object(n.jsx)("span",{children:e.name})]})},e.path)}))})]}),Object(n.jsxs)(p.a,{children:[Object(n.jsxs)(mn,{style:{color:"white"},children:[s,Object(n.jsx)(I.a,{target:"_blank",rel:"noopener noreferrer",onClick:this.handleAccountClick,style:{position:"absolute",right:"120px",top:"16px"},children:"Profile"}),Object(n.jsx)(I.a,{target:"_blank",rel:"noopener noreferrer",onClick:this.handleSignoutClick,style:{position:"absolute",right:"20px",top:"16px"},children:"Log out"})]}),Object(n.jsx)(pn,{style:{margin:"16px",overflow:"auto",display:"flex",flexDirection:"column"},children:Object(n.jsx)(m.d,{children:Object(n.jsxs)(te,{children:[t.map((function(e){return Object(n.jsx)(m.b,{exact:!e.hasChildren,path:e.path,component:e.component},e.path)})),Object(n.jsx)(m.b,{exact:!0,path:"/account",component:Oe})]})})})]})]})}}]),a}(o.a.PureComponent));Object(Q.a)({container:{display:"flex"}});var bn=function(){return Object(n.jsx)(_.a,{children:Object(n.jsx)("div",{className:"App",children:Object(n.jsx)("div",{className:"container d-flex align-items-center flex-column",children:Object(n.jsxs)(m.d,{atEnter:{opacity:0},atLeave:{opacity:0},atActive:{opacity:1},className:"switch-wrapper",children:[Object(n.jsx)(m.b,{exact:!0,path:"/login",component:M}),Object(n.jsx)(m.b,{exact:!0,path:"/forbidden",component:function(e){return Object(n.jsx)("div",{children:"Forbidden page"})}}),Object(n.jsx)(m.b,{exact:!0,path:"/forgot",component:F}),Object(n.jsx)(m.b,{exact:!0,path:"/verify",component:T}),Object(n.jsx)(m.b,{exact:!0,path:"/reset",component:U}),Object(n.jsx)(H,{path:"/",component:jn}),Object(n.jsx)(m.b,{exact:!0,path:"/",render:function(){return Object(n.jsx)(m.a,{to:{pathname:"/login"}})}}),Object(n.jsx)(m.b,{component:function(e){return Object(n.jsx)("div",{children:"page nor found"})}})]})})})})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(Object(n.jsx)(o.a.StrictMode,{children:Object(n.jsx)(bn,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[508,1,2]]]);
//# sourceMappingURL=main.d4af84e0.chunk.js.map